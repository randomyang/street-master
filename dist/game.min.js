$__ErrorCode__={E10001:"Class name must be uppercase first letter",E10002:"Name space must be lowercase first letter",E10003:"The import of the path is invalid",E10004:"Parent class is not specified",E10005:"Parameter type must be an object",E10006:'"$extends" statement can not be after at "$implements"',E10007:"Interface method has not been implemented",E10008:'"$extends","$implements" or "define" statement can not be after at "define"',E10009:"Image load failed",E10010:"Image not loaded",E10011:"invalid image object"};$package=function(t,e,i){function _(t,e){e=e||"";e=e.replace(/\s/g,"");if(e.length==0){return t}else{var i=e.substr(0,1);if(i!=i.toLowerCase()){throw new Error('Error "'+e+'":'+$__ErrorCode__["E10002"])}if(e.indexOf(".")==-1){typeof t[e]!="object"&&(t[e]={});return t[e]}else{var n=e.split(".")[0];typeof t[n]!="object"&&(t[n]={});return _(t[n],e.replace(/[^\.]*\./,""))}}}var n=e.substr(0,1);if(n!=n.toUpperCase()){throw new Error('Error "'+e+'":'+$__ErrorCode__["E10001"])}_(window,t)[e]=i};var $IE,$IE5,$IE55,$IE6,$IE7,$IE8,$OPERA,$MOZ,$SAFARI,$FF2,$FF,$CHROME,$WEBKIT,$TT,$360,$Maxthon=false,$XP,$Vista;(function(){var t=navigator.userAgent.toLowerCase();$IE=/msie/.test(t);$IE5=/msie 5 /.test(t);$IE55=/msie 5.5/.test(t);$IE6=/msie 6/.test(t);$IE7=/msie 7/.test(t);$IE8=/msie 8/.test(t);$OPERA=/opera/.test(t);$MOZ=/gecko/.test(t);$SAFARI=/safari/.test(t);$XP=/windows nt 5.1/.test(t);$Vista=/windows nt 6.0/.test(t);$FF2=/firefox\/2/i.test(t);$FF=/firefox/i.test(t);$CHROME=/chrome/i.test(t);$TT=/tencenttraveler/.test(t);$360=/360se/.test(t);$WEBKIT=/webkit/i.test(t);try{var e=window.external;$Maxthon=!!e.max_version}catch(t){}})();Function.prototype.$implements=function(){var t=Array.prototype.slice.call(arguments,0),e,i=t.length,n;while(i--){if(typeof t[i]!=="object"){throw new Error("interface implements error:"+$__ErrorCode__["E10005"])}for(n in t[i]){typeof this.prototype[n]==="undefined"&&(this.prototype[n]="NI")}}this.__interface__=true;this.$extends=function(){throw new Error("interface implements error:"+$__ErrorCode__["E10006"])};return this};(function(){function a(t){function e(){}e.prototype=t;return new e}Function.prototype.define=function(t){var e;for(e in t){this.prototype[e]=t[e]}if(this.__interface__){for(e in this.prototype){if(this.prototype[e]==="NI"){throw new Error("class define error ["+e+"]:"+$__ErrorCode__["E10007"])}}}this.prototype.constructor=this;this.$extends=this.define=this.$implements=function(){throw new Error("class define error:"+$__ErrorCode__["E10008"])};return this};Function.prototype.$extends=function(){var t=this,e=arguments.length,i,n,_;if(e===0){throw new Error("$extend error:"+$__ErrorCode__["E10004"])}n=arguments[0];_=function(){n.apply(this,arguments);t.apply(this,arguments)};_.prototype=a(n.prototype);_.prototype.constructor=_;_.$super=n.prototype;return _}})();var $E=function(t){return document.getElementById(t)};var $C=function(t){return document.createElement(t)};$package("aralork.events","Event",{getTarget:function(){var t=aralork.events.Event.getEvent();return t.target||t.srcElement},getEvent:function(){if(window.event){return window.event}else{var t=arguments.callee.caller,e=null,i=30;while(t!=null&&i--){e=t.arguments[0];if(e&&(e.constructor==Event||e.constructor==MouseEvent)){return e}t=t.caller}return e}},getKeyCode:function(){return aralork.events.Event.getEvent().keyCode},stop:function(){var t=aralork.events.Event.getEvent();if(t.stopPropagation){t.stopPropagation()}else{t.cancelBubble=true}},cancel:function(){var t=aralork.events.Event.getEvent();if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}}});$package("aralork.events","EventManager",{addEventListener:function(t,e,i,n){if(!this.__checkedNode(t)){return}if(t.addEventListener){t.addEventListener(e,i,!!n)}else if(t.attachEvent){t.attachEvent("on"+e,i)}else{t["on"+e]=i}},removeEventListener:function(t,e,i,n){if(!this.__checkedNode(t)){return}if(t.removeEventListener){t.removeEventListener(e,i,!!n)}else if(t.detachEvent){t.detachEvent("on"+e,i)}else{t["on"+e]=""}},__checkedNode:function(t){return typeof t==="object"}});$package("aralork.utils","KeyListenerType",{DOWN:"keydown",UP:"keyup",PRESS:"keypress"});$package("aralork.utils","KeyListener",function(t){this.node=t||document;this.__types={};this.__events={}}.define({add:function(t,e,i){if(!this.__checkedType(e)){return}var n=this;!this.__events[e+"_"+t]&&(this.__events[e+"_"+t]={code:t,type:e,handles:[]});this.__events[e+"_"+t].handles.unshift(i);if(!this.__types[e]){this.__types[e]=1;aralork.events.EventManager.addEventListener(this.node,e,function(){n.__callHandle(e)})}return this},remove:function(t,e,i){if(!this.__events[e+"_"+t]){return}var n,_,a;for(n in this.__events){_=this.__events[n];if(_.code==t&&_.type==e){if(i){a=_.handles.length;while(a--){_.handles[a]==i&&_.handles.splice(a,1)}}else{_.handles=[]}}}return this},__callHandle:function(t){var e,i,n,_=aralork.events.Event.getKeyCode();for(e in this.__events){i=this.__events[e];if(i.code==_&&i.type==t){n=i.handles.length;while(n--){i.handles[n].call(this,i.code)}}}},__checkedType:function(t){var e,i=aralork.utils.KeyListenerType;for(e in i){if(i[e]===t){return true}}return false}}));$package("aralork.events","EventDispatcher",function(t){this.__target=t;this.__events={}}.define({addEventListener:function(t,e){if(!this.__checkFunction(e)){return}var i=this.__events;t=t.toLowerCase();!i[t]&&(i[t]=[]);i[t].push(e)},removeEventListener:function(t,e){var i=this.__events[t];t=t.toLowerCase();if(!this.__checkFunction(e)||!i||!i.length){return}for(var n=i.length-1;n>=0;n--){i[n]==e&&i.splice(n,1)}},dispatchEvent:function(t){t=t.toLowerCase();var e=this.__events[t];if(!e||!e.length){return}var i=Array.prototype.slice.call(arguments,1);for(var n=0,_=e.length;n<_;n++){e[n].apply(this.__target,i)}},__checkFunction:function(t){return typeof t!=="string"&&String.prototype.slice.call(t,0,8)=="function"}}));$package("aralork.lib","Lib",{defineGetter:function(i,t,n){var e=this;if(t instanceof Array&&n instanceof Array){var _=Math.min(t.length,n.length);while(_--){if(typeof t[_]==="string"&&e.checkFunction(n[_])){i[t[_]]={valueOf:function(e){return function(){var t=n[e].call(i);return typeof t==="number"||typeof t==="string"?t:null}}(_),toString:this.valueOf}}}}else if(typeof t==="string"&&e.checkFunction(n)){i[t]={valueOf:function(){var t=n.call(i);return typeof t==="number"||typeof t==="string"?t:null},toString:this.valueOf}}},checkFunction:function(t){return t&&typeof t!=="string"&&String.prototype.slice.call(t,0,8)=="function"},swapString:function(t,e,i){var n=new RegExp("("+e+"|"+i+")","g");return t.replace(n,function(t){if(t===e){return i}else if(t===i){return e}})},getUniqueID:function(){return parseInt(Math.random()*1e4).toString()+(new Date).getTime().toString()}});$package("aralork.utils","ResourceLoader",{totalCount:0,totalCurrent:0,loadingCount:0,loadingCurrent:0,__eventDispatcher:null,__resources:{},addEventListener:function(t,e){!this.__eventDispatcher&&(this.__eventDispatcher=new aralork.events.EventDispatcher(this));this.__eventDispatcher.addEventListener(t,e)},removeEventListener:function(t,e){!this.__eventDispatcher&&(this.__eventDispatcher=new aralork.events.EventDispatcher(this));this.__eventDispatcher.removeEventListener(t,e)},load:function(t,e){var i=this,n={img:i.__loadImage};this.totalCount=0;this.loadingCount=0;aralork.lib.Lib.checkFunction(n[t])&&n[t].call(this,t,e)},getImage:function(t,e){var i=this.__resources["img"+"_"+this.__getKey(t)];if(!i){throw new Error($__ErrorCode__["E10010"]+":"+t)}else{if(e){var n=new Image;n.src=i.src;return n}else{return i}}},__loadImage:function(t,e){var i;if(e instanceof Array){this.totalCount+=e.length;this.loadingCount=e.length;this.loadingCurrent=0;i=e.length;while(i--){this.__updateImageLoad(t,e[i])}}else if(typeof e==="string"){this.totalCount++;this.loadingCount=1;this.loadingCurrent=0;this.__updateImageLoad(t,e)}},__updateImageLoad:function(t,e){var i,n=this;if(typeof this.__resources[t+this.__getKey(e)]==="undefined"){i=new Image;i.onload=function(){n.__checkLoading()};i.onerror=function(){n.__checkLoading();throw new Error($__ErrorCode__["E10009"]+":"+this.src)};i.src=e;this.__resources[t+"_"+this.__getKey(e)]=i}},__checkLoading:function(){this.loadingCurrent++;this.totalCurrent++;this.__eventDispatcher.dispatchEvent("loading",this.totalCurrent,this.totalCount);this.loadingCurrent==this.loadingCount&&this.__eventDispatcher.dispatchEvent("complete",this.totalCount)},__getKey:function(t){return t.replace(/^http\:\/\//g,"").replace(/\/|\\|\./g,"_")}});$package("aralork.display","IRenderer",{show:function(t){},hidden:function(t){}});$package("aralork.display.renderer","SimpleRenderer",function(){}.$implements(aralork.display.IRenderer).define({show:function(t){if(!t){return}t.style.display=""},hidden:function(t){if(!t){return}t.style.display="none"}}));$package("aralork.display","DisplayObject",function(t,e,i,n){var _=aralork.lib.Lib;var a=this;_.defineGetter(this,["x","y","z","width","height","scale"],[this.__getX,this.__getY,this.__getZ,this.__getWidth,this.__getHeight,this.__getScale]);this.__entity=null;this.__simpleRenderer=new aralork.display.renderer.SimpleRenderer;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__orgW=i||0;this.__orgH=n||0;this.__scale=1;this.__parent=t;this.__initEntity(t,e,i,n)}.define({setPosition:function(t){typeof t.x!=="undefined"&&(this.__entity.style.left=t.x+"px");typeof t.y!=="undefined"&&(this.__entity.style.top=t.y+"px");typeof t.z!=="undefined"&&(this.__entity.style.zIndex=t.z);return this},setSize:function(t){typeof t.w!=="undefined"&&(this.__entity.style.width=t.w+"px");typeof t.h!=="undefined"&&(this.__entity.style.height=t.h+"px");return this},setScale:function(t){t=isNaN(t)?1:t;this.__entity.style.width=this.__orgW*t+"px";this.__entity.style.height=this.__orgH*t+"px";this.__scale=t;return this},show:function(t){if(t){t.show(this.__entity)}else{this.__simpleRenderer.show(this.__entity)}return this},hidden:function(t){if(t){t.hidden(this.__entity)}else{this.__simpleRenderer.hidden(this.__entity)}return this},getEntity:function(){return this.__entity},addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},destroy:function(){this.__entity&&this.__entity.parentNode&&this.__entity.parentNode.removeChild(this.__entity);this.__entity=null},__initEntity:function(t,e,i,n){var _,a=!e||e==="none"?"div":e;t=t||document.body;if(typeof a==="object"){this.__entity=a}else{this.__entity=$C(a)}_=this.__entity.style;_.position="absolute";_.left=0;_.top=0;_.fontSize=0;_.zIndex=0;_.width=i+"px";_.height=n+"px";if(e!=="none"){t.appendChild(this.__entity)}},__getX:function(){return parseInt(this.__entity.style.left)},__getY:function(){return parseInt(this.__entity.style.top)},__getZ:function(){return parseInt(this.__entity.style.zIndex)},__getWidth:function(){var t=parseInt(this.__entity.style.width);return t||this.__getSize(this.__entity,"offsetWidth")},__getHeight:function(){var t=parseInt(this.__entity.style.height);return t||this.__getSize(this.__entity,"offsetHeight")},__getScale:function(){return this.__scale},__getSize:function(t,e){var i=t,n,_=i.style.visibility;if(i.style.display=="none"){i.style.visibility="hidden";i.style.display="";n=i[e];i.style.display="none";i.style.visibility=_}else{n=i[e]}return n}}));$package("game.ai","AIActionManager",function(t){this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__fighter=t;this.__queue=[];this.__isPlaying=false;this.__initEvent()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},play:function(t){if(!this.__isPlaying&&!this.__queue.length){this.__queue=this.__queue.concat(t);this.__isPlaying=true;this.__update(this.__queue.shift())}},__update:function(t){var e=this.__fighter,i,n;function _(t){window.setTimeout(function(){e[t.act]&&e[t.act].apply(e,t.p instanceof Array?t.p:[t.p])},t.t)}if(t instanceof Array){n=t.length;for(i=0;i<n;i++){_(t[i])}}else{_(t)}},__initEvent:function(){var i=this.__fighter,n=this.__eventDispatcher,_=this;i.action.addEventListener("actionComplete",function(t,e){if(!i.isSpecialAttacking&&t!=="wait"&&(e==="wait"||!e)){if(_.__queue.length){_.__update(_.__queue.shift())}else if(_.__isPlaying){_.__isPlaying=false;n.dispatchEvent("complete")}}});i.addEventListener("specialAttackComplete",function(){if(_.__queue.length){_.__update(_.__queue.shift())}else if(_.__isPlaying){_.__isPlaying=false;n.dispatchEvent("complete")}})}}));(function(){$package("game","SoundManager",{sounds:{},totalCount:0,currentCount:0,__isInited:false,__soundNames:{},__eventDispatcher:new aralork.events.EventDispatcher(this),addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},load:function(t,e){},play:function(t,e){},init:function(t){}});game.SoundManager.init("swfSoundManager")})();$package("config","Configure",{url:"http://dev.me/javascript/streetMaster/"});$package("aralork.utils","Timer",function(t,e){this.delay=t||40;this.repetCount=e||0;this.state="stop";this.__time=0;this.__timerID=0;this.__eventDispatcher=new aralork.events.EventDispatcher(this)}.define({start:function(){if(this.state==="start"){return}var e=this,i=this.repetCount;this.state="start";(function t(){if(i>0&&++e.__time===i){e.__eventDispatcher.dispatchEvent("timer");window.setTimeout(function(){e.stop()},e.delay)}else{window.clearTimeout(e.__timerID);e.__eventDispatcher.dispatchEvent("timer");e.state==="start"&&(e.__timerID=window.setTimeout(arguments.callee,e.delay))}})();return this},pause:function(){window.clearTimeout(this.__timerID);this.__isStarted=false;this.state="pause";this.__eventDispatcher.dispatchEvent("pause");return this},stop:function(t){window.clearTimeout(this.__timerID);this.__time=0;this.__isStarted=false;this.state="stop";!t&&this.__eventDispatcher.dispatchEvent("complete");return this},addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this}}));$package("stage","Screen",{entity:null,scale:1,canScroll:true,__elements:[],__backgroundMaxWidth:0,__backgroundMaxHeight:0,__eventDispatcher:new aralork.events.EventDispatcher(this),__flashEntity:null,__flashTimer:new aralork.utils.Timer(40,10),addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},setScale:function(t){if(!t||isNaN(t)){return this}var e=this.entity,i=this.__elements,n=i.length,_;this.scale=t;e.style.width=384*t+"px";e.style.height=224*t+"px";while(n--){i[n].setScale(t);i[n].width>this.__backgroundMaxWidth&&(this.__backgroundMaxWidth=+i[n].width);i[n].height>this.__backgroundMaxHeight&&(this.__backgroundMaxHeight=+i[n].height);_=-(i[n].width-e.offsetWidth)/2;i[n].setPosition({x:_});i[n].scrollValueX=_}return this},addBackground:function(t,e){var i=this.entity,n=i.offsetWidth;t.setPosition({z:e});t.scrollValueY=0;i.appendChild(t.getEntity());this.__elements.push(t);this.setScale(1);return this},clearBackground:function(){var t=this.entity,e=this.__elements,i=e.length;while(i--){t.removeChild(e[i].getEntity());e[i].destroy()}this.__elements.length=0;this.__backgroundMaxWidth=0;this.__backgroundMaxHeight=0;return this},scroll:function(t,e){var i=this.entity,n=this.__elements,_=i.offsetWidth,a=i.offsetHeight,s=n.length,r=n[1].width/this.__backgroundMaxWidth*t;if(t>0&&n[1].scrollValueX+r>0||t<0&&n[1].scrollValueX+r+n[1].width<this.entity.offsetWidth){this.canScroll=false;return this}this.canScroll=true;while(s--){n[s].scrollValueX+=n[s].width/this.__backgroundMaxWidth*t;n[s].scrollValueX+=n[s].height/this.__backgroundMaxHeight*e;n[s].setPosition({x:n[s].scrollValueX,y:n[s].scrollValueY})}this.__eventDispatcher.dispatchEvent("scroll",t,e);return this},getWidth:function(){return this.entity.offsetWidth},getHeight:function(){return this.entity.offsetHeight},getX:function(){if(this.__elements[1]){return+this.__elements[1].x}else{return 0}},getInnerWidth:function(){if(this.__elements[1]){return+this.__elements[1].width}else{return 0}},flash:function(){var t,e=0,i=["show","hidden"];if(!this.__flashEntity){t=this.__flashEntity=new aralork.display.DisplayObject(this.entity,"div",this.getWidth(),this.getHeight());t.setPosition({z:32});t.getEntity().style.backgroundColor="red";this.__flashTimer.addEventListener("timer",function(){t[i[e++%2]].call(t)}).addEventListener("complete",function(){t.hidden()})}this.__flashTimer.start()}});$package("role.controller","Controller",function(){this.__keys={UP:0,RIGHT:0,DOWN:0,LEFT:0,A:0,B:0,C:0,D:0,E:0,F:0};this.__reverseKeys={};this.__hashKeyCode={};this.__keyListener=new aralork.utils.KeyListener;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__controlsCode=0;this.__functionCode=0}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},configure:function(t){var e=this.__keys,i=this.__reverseKeys,n;for(n in e){if(typeof t[n]==="number"||typeof t[n]==="string"){e[n]=t[n];i["k_"+t[n]]=n}}this.__initKeyCodes();this.__initKeys("controls");this.__initKeys("function");return this},__initKeyCodes:function(){var t=this.__hashKeyCode,e=this.__keys;t[e.UP]=17;t[e.RIGHT]=18;t[e.DOWN]=20;t[e.LEFT]=24;t[e.A]=65;t[e.B]=66;t[e.C]=68;t[e.D]=72;t[e.E]=80;t[e.F]=96},__initKeys:function(e){var t=this.__keyListener,i=this.__keys,n=this,_=e==="controls"?["UP","RIGHT","DOWN","LEFT"]:["A","B","C","D","E","F"],a=_.length;while(a--){t.add(i[_[a]],"keydown",function(t){n.__updateKeyCode(t,true,e)}).add(i[_[a]],"keyup",function(t){n.__updateKeyCode(t,false,e)})}},__updateKeyCode:function(t,e,i){var n=this.__hashKeyCode,_=this.__reverseKeys,a={controls:"__controlsCode",function:"__functionsCode"},s=i==="controls"?16:64;if(e){this[a[i]]|=n[t];n[t]>s&&this.__eventDispatcher.dispatchEvent(i+"KeyDown",this[a[i]],t,_["k_"+t]);n[t]&=s-1}else{this[a[i]]^=n[t];this.__eventDispatcher.dispatchEvent(i+"KeyUp",this[a[i]],t,_["k_"+t]);n[t]|=s}}}));$package("config","SpecialAttacked",{RYU:{wave_boxing:{keySequence:[["DOWN","RIGHT","A"],["DOWN","RIGHT","B"],["DOWN","RIGHT","C"]],keyValue:"10010"},impact_boxing:{keySequence:[["RIGHT","DOWN","RIGHT","A"],["RIGHT","DOWN","RIGHT","B"],["RIGHT","DOWN","RIGHT","C"]],keyValue:"10110"},whirl_kick:{keySequence:[["DOWN","LEFT","D"],["DOWN","LEFT","E"],["DOWN","LEFT","F"]],keyValue:"11000"}}});$package("role.controller","FighterController",function(t,e){this.keyCfg=e;this.__keySequence=[];this.__fighter=t;this.__controller=new role.controller.Controller;this.__sequenceTimeoutValue=150;this.__keyDownStartTime=0;this.__specialAttackedConfig=config.SpecialAttacked[this.__fighter.name.replace(/\d+$/,"")];this.__controlsKeyCode=0;this.__hashKeyToLevel={A:1,B:2,C:3,D:1,E:2,F:3};this.__initController(e||{});this.__initFighter()}.define({clearKeyState:function(){this.__controlsKeyCode=0},__initFighter:function(){var i=this,n=this.__fighter,_=n.adversary;n.addEventListener("stateChanged",function(t,e){if(/^jump(up|left|right)/.test(t)&&e==="wait"){i.keyCfg&&!n.isSpecialAttacking&&i.__updateFighterControlKeysAction(i.__controlsKeyCode)}});n.action.addEventListener("actionComplete",function(t,e){if(!/^jump/.test(t)&&/(boxing|kick)$/.test(t)&&!n.isJumping){n.isAttacking=false;if(n.state!=="beAttacked"){n.state="wait";i.__updateFighterControlKeysAction(i.__controlsKeyCode)}else{n.state="wait"}}e==="wait"&&(n.state="wait");t==="somesault_up"&&i.keyCfg&&i.__updateFighterControlKeysAction(i.__controlsKeyCode)});n.addEventListener("specialAttackComplete",function(t){this.isAttacking=false;this.isSpecialAttacking=false;this.state==="specialAttacking"&&(this.state="");if(i.keyCfg){i.__updateFighterControlKeysAction(i.__controlsKeyCode,1)}else{!this.isAttacking&&!this.isJumping&&this.state!=="beAttacked"&&this.state!=="wait"&&this.wait()}}).addEventListener("beAttackedComplete",function(t){i.keyCfg&&i.__updateFighterControlKeysAction(i.__controlsKeyCode)});_.action.addEventListener("actionComplete",function(t,e){if(/(boxing|kick)$/.test(e)){!_.isSpecialAttacking&&i.__checkFighterDefense(i.__controlsKeyCode.toString(2))}if(/\w{0,20}(light|middle|heavy)_(boxing|kick)$/.test(t)){_.isAttacking=false;i.keyCfg&&i.__updateFighterControlKeysAction(i.__controlsKeyCode)}});_.addEventListener("specialAttackStart",function(t){i.keyCfg&&i.__updateFighterControlKeysAction(i.__controlsKeyCode)}).addEventListener("specialAttackComplete",function(t){if(i.keyCfg){i.__updateFighterControlKeysAction(i.__controlsKeyCode)}else{!n.isAttacking&&!n.isJumping&&n.state!=="beAttacked"&&n.state!=="wait"&&n.wait()}}).addEventListener("beAttacked",function(){i.__keySequence=[]})},__initController:function(t){var e=this.__controller,n=this;e.configure(t).addEventListener("controlsKeyDown",function(t,e,i){n.__controlsKeyCode=t;n.__updateSequence(i);n.__updateFighterControlKeysAction(t)}).addEventListener("controlsKeyUp",function(t,e,i){n.__controlsKeyCode=t;n.__updateFighterControlKeysAction(t)}).addEventListener("functionKeyDown",function(t,e,i){n.__updateSequence(i);if(n.__keySequence.length>1){n.__updateFigtherSpeicalAttack(i)}else{n.__updateFighterFunctionKeysAction(i)}}).addEventListener("functionKeyUp",function(t,e,i){})},__updateSequence:function(t){var e=this.__keySequence;if(e.length===0||(new Date).getTime()-this.__keyDownStartTime<this.__sequenceTimeoutValue){e.push(t)}else{this.__keySequence=[t]}this.__keyDownStartTime=(new Date).getTime()},__updateFighterControlKeysAction:function(t){var e=this.__fighter;switch(t.toString(2)){case"10001":e.jump("up");break;case"10010":!this.__checkFighterDefense("10010")&&e.walk("right");break;case"11100":case"10110":case"10100":e.stand("crouch");this.__checkFighterDefense(t.toString(2));break;case"11000":!this.__checkFighterDefense("11000")&&e.walk("left");break;case"10011":e.jump("right");break;case"11001":e.jump("left");break;default:if(!e.isAttacking&&!e.isJumping&&!e.isSpecialAttacking&&e.state!=="beAttacked"){e.wait()}}},__updateFighterFunctionKeysAction:function(t){var e=this.__fighter,i={A:["light","boxing"],B:["middle","boxing"],C:["heavy","boxing"],D:["light","kick"],E:["middle","kick"],F:["heavy","kick"]};e.attack.apply(e,i[t])},__checkFighterDefense:function(t){var e=this.__fighter,i=e.adversary,n={10010:1,10110:1,11e3:0,11100:0},_=false;if((i.isAttacking||i.isMagicPlaying)&&!e.isJumping&&(e.lookAt==="right"&&n[t]===0||e.lookAt==="left"&&n[t]===1)){_=true;e.defense()}else{e.defenseState=""}return _},__updateFigtherSpeicalAttack:function(t){var e=aralork.lib.Lib,i=this.__specialAttackedConfig,n=this.__fighter,_=n.lookAt,a=this.__keySequence,s,r,h,o,c;if(_==="right"){c=a.join(",");o=this.__controlsKeyCode}else if(_==="left"){c=e.swapString(a.join(","),"RIGHT","LEFT");o=this.__controlsKeyCode^parseInt("01010",2)}for(r in i){s=i[r].keySequence;h=s.length;while(h--){if(s[h].join(",")===c&&(parseInt(i[r].keyValue,2)&o)===o){n.specialAttack(r,this.__hashKeyToLevel[t]);this.__keySequence=[];return}}}this.__updateFighterFunctionKeysAction(t)}}));$package("aralork.lib","Style",{setOpacity:function(t,e){e=isNaN(e)?0:e;e=Math.max(Math.min(1,e),0);if($IE){if(t.style.filter.indexOf("progid:DXImageTransform.Microsoft.Alpha(opacity=")>-1){t.style.filter=t.style.filter.replace(/progid\:DXImageTransform\.Microsoft\.Alpha\(opacity\=\d*\)/,"progid:DXImageTransform.Microsoft.Alpha(opacity="+e*100+")")}else{t.style.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity="+e*100+")"}}else{typeof t.style.MozOpacity!=="undefined"&&(t.style.MozOpacity=e);typeof t.style.opacity!=="undefined"&&(t.style.opacity=e)}},setFlipH:function(t,e){var i="matrix(-1,0,0,1,0,0)";if($IE){if(e){t.style.filter.indexOf("progid:DXImageTransform.Microsoft.BasicImage(mirror=1)")===-1&&(t.style.filter+="progid:DXImageTransform.Microsoft.BasicImage(mirror=1)")}else{t.style.filter=t.style.filter.replace("progid:DXImageTransform.Microsoft.BasicImage(mirror=1)","")}}else{typeof t.style.MozTransform!=="undefined"&&(t.style.MozTransform=e?i:"");typeof t.style.webkitTransform!=="undefined"&&(t.style.webkitTransform=e?i:"");typeof t.style.OTransform!=="undefined"&&(t.style.OTransform=e?i:"");typeof t.style.transform!=="undefined"&&(t.style.transform=e?i:"")}}});$package("aralork.display","Animation",function(t,e,i,n,_,a,s){this.fps=a||25;this.direction=1;this.state="stop";this.isFlipH=false;this.__timer=new aralork.utils.Timer(Math.floor(1e3/a));this.__frame=0;this.__frameCount=0;this.__img=null;this.__isCoerceStop=false;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__frameTimes=s||[];this.__initTimerEvent();this.load(_)}.$extends(aralork.display.DisplayObject).define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},load:function(t){if(!t){throw new Error($__ErrorCode__["E10011"])}var e=this.__entity;e.innerHTML="";e.appendChild(t);this.__img=t;this.__frameCount=Math.floor(t.width/this.width);this.__orgW=e.offsetWidth;this.__orgH=e.offsetHeight;this.setScale(this.__scale);this.__formatFrameTimes(this.__frameCount);return this},play:function(t,e){if(!e){(isNaN(t)||!t)&&(t=0);this.__timer.repetCount=t*this.__frameCount;this.__timer.delay=1e3/this.fps/this.__frameTimes[this.direction===1?Math.max(this.__frame,1)-1:this.__frameCount-Math.max(this.__frame,1)]}this.__timer.start();this.state="playing";return this},go:function(t){if(t<=0){this.__frame=Math.min(this.__frameCount+t+1,this.__frameCount)}else{this.__frame=Math.max(1,t%(this.__frameCount+1))}var e=this.__frame;this.__timer.delay=1e3/this.fps/this.__frameTimes[this.direction===1?e-1:this.__frameCount-e];this.__img.style.marginLeft=-(e-1)*this.width+"px";return this},pause:function(){this.__timer.pause();this.state="pause";return this},setScale:function(t){zm=isNaN(t)?1:t;aralork.display.Animation.$super.setScale.call(this,t);this.__img.width=this.__orgW*this.__frameCount*t;this.__img.height=this.__orgH*t;return this},stop:function(){this.__isCoerceStop=true;this.__timer.stop();this.__frame=0;this.state="stop";return this},setFlipH:function(t){aralork.lib.Style.setFlipH(this.__img,t);this.isFlipH=!!t;this.direction=t?-1:1;return this},destroy:function(){this.__timer.stop();this.__img=null;aralork.display.Animation.$super.destroy.call(this)},__initEntity:function(t,e,i,n){aralork.display.Animation.$super.__initEntity.call(this,t,e,i,n);this.__entity.style.overflow="hidden"},__initTimerEvent:function(){var e=this;this.__timer.addEventListener("timer",function(){var t;(isNaN(e.direction)||e.direction==0)&&(e.direction=1);e.go(e.__frame+e.direction/Math.abs(e.direction));t=e.isFlipH?e.__frameCount+1-e.__frame:e.__frame;e.__eventDispatcher.dispatchEvent("playing",t,e.__frameCount)}).addEventListener("complete",function(){var t=e.isFlipH?e.__frameCount+1-e.__frame:e.__frame;if(e.state!=="stop"){e.state="stop";e.__eventDispatcher.dispatchEvent("stop",t,e.__frameCount,e.__isCoerceStop)}e.__frame=0;e.__isCoerceStop=false})},__formatFrameTimes:function(t){var e=t;while(e--){!this.__frameTimes[e]&&(this.__frameTimes[e]=1)}}}));$package("config","HitEffect",{defense:{IMG:config.Configure.url+"images/hitEffect/defense.gif",WIDTH:32,HEIGHT:32,FPS:8,FRAME_TIMES:[1,1,1,1,1]},light:{IMG:config.Configure.url+"images/hitEffect/light.gif",WIDTH:20,HEIGHT:19,FPS:8,FRAME_TIMES:[1,1,1]},heavy:{IMG:config.Configure.url+"images/hitEffect/heavy.gif",WIDTH:32,HEIGHT:31,FPS:8,FRAME_TIMES:[1,1,1,1]}});$package("game","HitEffectManager",function(t,e){this.effects={};this.__parent=t;this.__scale=e||1;this.__initEffects()}.define({setScale:function(t){var e,i=this.effects;for(e in i){i[e].setScale(t)}this.__scale=t},__initEffects:function(){var t=aralork.display.Animation,e=aralork.utils.ResourceLoader,i=config.HitEffect,n=this.__parent,_=["defense","light","heavy"],a=_.length;while(a--){this.effects[_[a]]=new t(n,null,i[_[a]].WIDTH,i[_[a]].HEIGHT,e.getImage(i[_[a]].IMG,true),i[_[a]].FPS,i[_[a]].FRAME_TIMES);this.effects[_[a]].addEventListener("stop",function(){this.hidden()}).hidden()}}}));$package("game","HPBar",function(t){this.direction=1;this.max=200;this.value=0;this.__bar=t;this.__decWidthQueue=[];this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__timer=new aralork.utils.Timer(20);this.__barWidth=0;this.__decWidth=0;this.__scale=1;this.__init();this.__initTimer()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},decrease:function(t){this.__decWidthQueue.push(t/this.max*this.__barWidth);this.value-=t;if(this.__decWidthQueue.length===1&&this.__timer.state==="stop"){this.__decWidth=this.__decWidthQueue.pop();this.__timer.start()}},reset:function(){this.__bar.style.width=this.__barWidth+"px";this.direction===1&&(this.__bar.style.left=parseInt(this.__bar.style.left)-this.__barWidth+"px");this.value=this.max},__init:function(){this.__barWidth=parseInt(this.__bar.style.width);this.value=this.max},__initTimer:function(){var t=this.__timer,e=this,i=this.__bar,n=0;t.addEventListener("timer",function(){i.style.width=parseInt(i.style.width)-1+"px";e.direction===1&&(i.style.left=parseInt(i.style.left)+1+"px");(n++>=e.__decWidth||!parseInt(i.style.width))&&this.stop()}).addEventListener("complete",function(){n=0;if(e.__decWidthQueue.length>0&&e.value>0){e.__decWidth=e.__decWidthQueue.pop();e.__timer.start()}e.__eventDispatcher.dispatchEvent("decreaseComplete",e.value,parseInt(e.__bar.style.width))})}}));(function(){var t=[{act:"stand",p:"crouch",t:100},{act:"attack",p:["heavy","kick"],t:101}],e=[{act:"jump",p:"forward",t:100},{act:"attack",p:["heavy","kick"],t:600}];$package("config.ai","AIActionTable",{CMB_CROUCH_KICK:t,CMB_JUMP_FORWARD_KICK:e,CMB_JUMP_BACK:{act:"jump",p:"back",t:50},CMB_JUMP_FORWARD_KICK_CROUCH_KICK:[e,t],CMB_JUMP_FORWARD_BOXING:[{act:"jump",p:"forward",t:100},{act:"attack",p:["heavy","boxing"],t:800}],CMB_CROUCH_HEAVY_BOXING:[{act:"stand",p:"crouch",t:100},{act:"attack",p:["heavy","boxing"],t:500}],CMB_HEAVY_BOXING:[{act:"attack",p:["heavy","boxing"],t:300}],CMB_HEAVY_KICK:[{act:"attack",p:["heavy","kick"],t:300}],CMB_JUMP_BACK_KICK:[{act:"jump",p:"back",t:100},{act:"attack",p:["heavy","kick"],t:600}],CMB_DEFENSE:{act:"defense",p:"",t:100},CMB_CROUCH_DEFENSE:[{act:"stand",p:"crouch",t:100},{act:"defense",p:"",t:100}]})})();$package("config.ai","FighterAIAction",{RYU:{TYPE_1:{act:"specialAttack",p:["impact_boxing",1],t:100},TYPE_2:{act:"specialAttack",p:["wave_boxing","1"],t:100},TYPE_3:{act:"specialAttack",p:["whirl_kick",3],t:50},TYPE_4:{act:"specialAttack",p:["impact_boxing",3],t:100},TYPE_5:{act:"specialAttack",p:["wave_boxing","3"],t:100}}});$package("config.ai","AIActionRespond",{wait:["TYPE_1","TYPE_2","TYPE_3","TYPE_4","TYPE_5","CMB_JUMP_FORWARD_KICK_CROUCH_KICK","CMB_HEAVY_BOXING","CMB_JUMP_FORWARD_KICK","CMB_CROUCH_KICK","CMB_JUMP_BACK"],stand_crouch:["CMB_CROUCH_KICK","TYPE_2","CMB_HEAVY_BOXING"],stand_up:["TYPE_3"],stand_up_defense:["CMB_CROUCH_KICK","TYPE_2","TYPE_4","TYPE_5"],stand_crouch_defense:["CMB_HEAVY_BOXING","CMB_JUMP_FORWARD_KICK","TYPE_2","TYPE_5"],walk_back:["CMB_JUMP_FORWARD_BOXING","CMB_HEAVY_KICK","TYPE_2","TYPE_3"],walk_forward:["CMB_JUMP_BACK_KICK","CMB_CROUCH_KICK","TYPE_3","TYPE_4"],light_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],middle_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],heavy_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],light_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],middle_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],heavy_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_5"],jump_up:["TYPE_1","CMB_JUMP_FORWARD_KICK"],jump_down:["CMB_CROUCH_KICK"],jump_forward:["CMB_JUMP_BACK_KICK","TYPE_4"],jump_back:["TYPE_5","CMB_JUMP_FORWARD_BOXING","CMB_JUMP_FORWARD_KICK"],near_light_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],near_middle_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],near_heavy_boxing:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],near_light_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],near_middle_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],near_heavy_kick:["CMB_DEFENSE","CMB_CROUCH_KICK","TYPE_1"],crouch_light_boxing:["CMB_CROUCH_DEFENSE","CMB_CROUCH_KICK","CMB_JUMP_BACK","TYPE_5"],crouch_middle_boxing:["CMB_CROUCH_DEFENSE","CMB_CROUCH_KICK","CMB_JUMP_BACK","TYPE_5"],crouch_heavy_boxing:["CMB_CROUCH_DEFENSE","CMB_CROUCH_KICK","CMB_JUMP_BACK","TYPE_5"],crouch_light_kick:["CMB_JUMP_BACK","CMB_CROUCH_KICK","TYPE_5"],crouch_middle_kick:["CMB_JUMP_BACK","CMB_CROUCH_KICK","TYPE_5"],crouch_heavy_kick:["CMB_JUMP_BACK","CMB_CROUCH_KICK","TYPE_5"],jump_light_boxing:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jump_middle_boxing:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jump_heavy_boxing:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jump_light_kick:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jump_middle_kick:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jump_heavy_kick:[{act:"attack",p:["heavy","kick"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING"],jumpMoved_light_boxing:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],jumpMoved_middle_boxing:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],jumpMoved_heavy_boxing:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],jumpMoved_light_kick:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],jumpMoved_middle_kick:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],jumpMoved_heavy_kick:[{act:"attack",p:["heavy","kick"],t:400},{act:"attack",p:["heavy","boxing"],t:400},"TYPE_4","CMB_JUMP_FORWARD_BOXING","TYPE_1","CMB_JUMP_BACK_KICK"],beAttacked_top:["CMB_CROUCH_KICK","TYPE_3","TYPE_1","TYPE_4"],beAttacked_bottom:["CMB_CROUCH_KICK","TYPE_3","TYPE_1","TYPE_4"],beAttacked_heavy:["CMB_CROUCH_KICK","TYPE_3","TYPE_1","TYPE_4"],beAttacked_impact:["CMB_CROUCH_KICK","TYPE_3","TYPE_1","TYPE_4"],wave_boxing:["CMB_DEFENSE","CMB_JUMP_FORWARD_KICK_CROUCH_KICK","TYPE_5","CMB_JUMP_FORWARD_KICK"],before_whirl_kick:[],whirl_kick:["CMB_CROUCH_HEAVY_BOXING","TYPE_5","CMB_JUMP_FORWARD_BOXING"],after_whirl_kick:[],impact_boxing:["TYPE_4","TYPE_1"],after_impact_boxing:["TYPE_4","TYPE_1","CMB_JUMP_FORWARD_KICK"]});$package("game","FighterManager",function(t,e,i){this.__fighter1=t;this.__fighter2=e;this.__hitEffect1=new game.HitEffectManager(t.parent,t.scale);this.__hitEffect2=new game.HitEffectManager(e.parent,e.scale);this.__aiManagers={};this.__fighterShadow1=null;this.__fighterShadow2=null;this.__hpBars={};this.__fighterControllers={};this.__menu=i;this.__init()}.define({setScale:function(t){this.__fighter1.setScale(t);this.__fighter2.setScale(t);this.__hitEffect1.setScale(t);this.__hitEffect2.setScale(t)},__init:function(){var t=this.__fighter1,e=this.__fighter2,i=this,a=i.__hitEffect1.effects,s=i.__hitEffect2.effects;t.setAdversary(e);e.setAdversary(t);t.addEventListener("specialAttackComplete",function(){i.__updateFighterLookAt(this);i.__checkBodyOverlay(this)}).addEventListener("positionChanged",function(){if(!this.checkState("jump")){i.__updateFighterLookAt(this);!this.isSpecialAttacking&&!e.isSpecialAttacking&&i.__checkBodyOverlay(this)}i.__fighterShadow1.setPosition({x:this.x+this.width/2-i.__fighterShadow1.width/2})}).addEventListener("beAttacked",function(t,e,i,n){var _=this.defenseState?a.defense:e<10?a.light:a.heavy;_.setPosition({x:n.x-_.width/2,y:n.y-_.height/2,z:128}).show().play(1)});e.addEventListener("specialAttackComplete",function(){i.__updateFighterLookAt(this);i.__checkBodyOverlay(this)}).addEventListener("positionChanged",function(){if(!this.checkState("jump")){i.__updateFighterLookAt(this);!this.isSpecialAttacking&&!t.isSpecialAttacking&&i.__checkBodyOverlay(this)}i.__fighterShadow2.setPosition({x:this.x+this.width/2-i.__fighterShadow2.width/2})}).addEventListener("beAttacked",function(t,e,i,n){var _=this.defenseState?s.defense:e<10?s.light:s.heavy;_.setPosition({x:n.x-_.width/2,y:n.y-_.height/2,z:128}).show().play(1)});this.__hitEffect1.setScale(t.scale);this.__hitEffect2.setScale(e.scale);this.__initController();this.__initAI(t);this.__menu.getIndex()!==2&&this.__initAI(e);this.__initHPBars(t,"ft1",1,$E("hpBar1"));this.__initHPBars(e,"ft2",-1,$E("hpBar2"));this.__initFighterShadow()},__initHPBars:function(t,a,e,i){var s=this;if(!this.__hpBars[a]){this.__hpBars[a]=new game.HPBar(i);this.__hpBars[a].direction=e;this.__hpBars[a].addEventListener("decreaseComplete",function(t,e){if(e<=0){stage.Screen.flash();this.reset()}});t.addEventListener("beAttacked",function(t,e,i,n,_){s.__hpBars[a].decrease(this.defenseState?i:e)})}else{this.__hpBars[a].reset()}},__initFighterShadow:function(){var t=aralork.utils.ResourceLoader.getImage(config.Configure.url+"images/background/fighterShadow.gif",true),e=aralork.utils.ResourceLoader.getImage(config.Configure.url+"images/background/fighterShadow.gif",true),i=this.__fighter1,n=this.__fighter2,_=i.scale,a=68*_,s=11*_;this.__fighterShadow1=new aralork.display.DisplayObject(i.parent,t,a,s);this.__fighterShadow1.setPosition({x:i.x+i.width/2-this.__fighterShadow1.width/2,y:i.y+i.height-this.__fighterShadow1.height+_,z:32}).show();this.__fighterShadow2=new aralork.display.DisplayObject(n.parent,e,a,s);this.__fighterShadow2.setPosition({x:n.x+n.width/2-this.__fighterShadow2.width/2,y:n.y+n.height-this.__fighterShadow2.height+_,z:32}).show()},__checkBodyOverlay:function(t){var e=t.adversary,i=+t.scale,n=t.action.animations["wait"],_=e.action.animations["wait"],a=40*i,s=40*i,r=90*i,h=90*i,o=t.action.currentAnimation,c=e.action.currentAnimation,l=parseInt(o.__entity.style.left)+o.__entity.offsetWidth/2-a/2,f=parseInt(c.__entity.style.left)+c.__entity.offsetWidth/2-s/2,u=parseInt(o.__entity.style.top)+o.__entity.offsetHeight/2-r/2,g=parseInt(c.__entity.style.top)+c.__entity.offsetHeight/2-h/2;if(this.__checkOverlay(l,f,u,g,a,s,r,r)){if(l<f){o.setPosition({x:o.x-t.scale*1.5});e.setPosition({x:l+a-(e.width-s)/2})}else{o.setPosition({x:o.x+t.scale*1.5});e.setPosition({x:l-s-(e.width-s)/2})}}},__checkOverlay:function(t,e,i,n,_,a,s,r){return e<t+_&&e+a>t&&n<i+s&&n+r>i},__updateFighterLookAt:function(t){var e=t.adversary;function i(){!t.checkState("jump")&&t.state!=="beAttacked"&&!t.isAttacking&&t.action.updateAnimation(null,t.lookAt);!e.checkState("jump")&&e.state!="beAttacked"&&!e.isAttacking&&e.action.updateAnimation(null,e.lookAt)}if(!e){return}if(t.__isLookAtChanged&&t.x<e.x){t.__isLookAtChanged=false;t.lookAt="right";e.lookAt="left";i()}else if(!t.__isLookAtChanged&&t.x>=e.x){t.__isLookAtChanged=true;t.lookAt="left";e.lookAt="right";i()}},__initController:function(){var t={UP:87,RIGHT:68,DOWN:83,LEFT:65,A:74,B:75,C:76,D:85,E:73,F:79},e={UP:38,RIGHT:39,DOWN:40,LEFT:37,A:97,B:98,C:99,D:100,E:101,F:102};!this.__fighterControllers[this.__fighter1.name]&&(this.__fighterControllers[this.__fighter1.name]=new role.controller.FighterController(this.__fighter1,t));!this.__fighterControllers[this.__fighter2.name]&&(this.__fighterControllers[this.__fighter2.name]=new role.controller.FighterController(this.__fighter2,this.__menu.getIndex()===1?e:null))},__initAI:function(i){var t=this,n,_=config.ai.AIActionTable,a=config.ai.FighterAIAction[i.name.replace(/\d/g,"")],s=config.ai.AIActionRespond,r="",e;function h(t){r=s[t];if(r&&r instanceof Array&&i.action.currentActionName==="wait"&&i.y+i.action.animations["wait"].height===i.basicY){var e=r[Math.floor(Math.random()*r.length)];if(typeof e==="object"){n.play(e)}else if(typeof e==="string"){_[e]&&n.play(_[e]);a[e]&&n.play(a[e])}}}if(!this.__fighterControllers[i.name].keyCfg){n=this.__aiManagers[i.name]=new game.ai.AIActionManager(i);i.adversary.action.addEventListener("actionStart",function(t){h(t)});window.setInterval(function(){if(i.adversary.state==="wait"&&i.state==="wait"){h("wait")}},4e3)}}}));$package("config.fighterAction","RYU1",{wait:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_wait.gif",FPS:12,WIDTH:60,HEIGHT:93,FRAME_TIMES:[],BODY_OVERLAYS:[{x:7,y:9,w:46,h:84},{x:5,y:8,w:49,h:85},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88}]},stand_crouch:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch.gif",FPS:20,WIDTH:61,HEIGHT:83,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:6,y:23,w:50,h:58}]},stand_up:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_stand_up.gif",FPS:20,WIDTH:61,HEIGHT:83,COUNT:1,CALL_ANIMATION:"wait",FRAME_TIMES:[],BODY_OVERLAYS:[{x:7,y:27,w:51,h:53},{x:5,y:18,w:51,h:62},{x:6,y:2,w:43,h:80}]},stand_up_defense:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_stand_up_defense.gif",FPS:14,WIDTH:65,HEIGHT:93,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:3,y:4,w:52,h:86},{x:5,y:4,w:53,h:87}]},stand_crouch_defense:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_stand_crouch_defense.gif",FPS:14,WIDTH:58,HEIGHT:64,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:6,y:7,w:46,h:55},{x:4,y:3,w:53,h:58}]},walk_back:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_goBack.gif",FPS:15,WIDTH:61,HEIGHT:91,BODY_OVERLAYS:[{x:4,y:8,w:52,h:81},{x:6,y:4,w:48,h:85},{x:5,y:4,w:51,h:82},{x:6,y:4,w:50,h:83},{x:3,y:4,w:52,h:83},{x:4,y:5,w:51,h:83}],FRAME_TIMES:[1,.5,1,1,1,.5]},walk_forward:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_goForward.gif",FPS:22,WIDTH:64,HEIGHT:92,BODY_OVERLAYS:[{x:10,y:6,w:42,h:83},{x:9,y:12,w:42,h:78},{x:12,y:6,w:47,h:83},{x:8,y:3,w:48,h:85},{x:6,y:5,w:46,h:85},{x:13,y:5,w:41,h:85}],FRAME_TIMES:[.4,1,.5,.5,.5,1]},light_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_light_boxing.gif",FPS:18,WIDTH:92,HEIGHT:91,HIT_SOUND_NAME:"hit_light",COUNT:1,POWER:5,DEFENCED_POWER:0,ATTACK_TYPE:"top",FRAME_TIMES:[1.2,1,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:3,w:47,h:85},{x:4,y:4,w:50,h:83},{x:4,y:3,w:47,h:85}],ATTACK_OVERLAYS:[0,{x:47,y:13,w:45,h:11},0]},middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_middle_boxing.gif",FPS:12,WIDTH:115,HEIGHT:95,HIT_SOUND_NAME:"hit_middle_boxing",COUNT:1,POWER:10,DEFENCED_POWER:0,ATTACK_TYPE:"heavy",FRAME_TIMES:[1.1,1.1,1,1,1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:6,w:45,h:86},{x:16,y:4,w:51,h:88},{x:17,y:4,w:53,h:88},{x:16,y:3,w:51,h:91},{x:4,y:2,w:46,h:91}],ATTACK_OVERLAYS:[0,0,{x:61,y:16,w:53,h:11},0,0]},heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_middle_boxing.gif",IS_COPY_IMG:true,FPS:8,WIDTH:115,HEIGHT:95,HIT_SOUND_NAME:"hit_heavy_boxing",COUNT:1,POWER:20,DEFENCED_POWER:0,ATTACK_TYPE:"impact",FRAME_TIMES:[1.2,1.2,1,.8,1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:6,w:45,h:86},{x:16,y:4,w:51,h:88},{x:17,y:4,w:53,h:88},{x:16,y:3,w:51,h:91},{x:4,y:2,w:46,h:91}],ATTACK_OVERLAYS:[0,0,{x:61,y:16,w:53,h:11},0,0]},light_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_light_kick.gif",OFFSET_X:-35,IS_COPY_IMG:false,FPS:14,WIDTH:114,HEIGHT:94,HIT_SOUND_NAME:"hit_light",COUNT:1,POWER:5,DEFENCED_POWER:0,ATTACK_TYPE:"top",FRAME_TIMES:[1.1,1.2,.9,1.2,1.1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:43,y:6,w:46,h:85},{x:27,y:5,w:48,h:86},[{x:85,y:2,w:28,h:16},{x:37,y:46,w:25,h:46},{x:2,y:4,w:83,h:41}],{x:27,y:4,w:51,h:88},{x:42,y:4,w:46,h:87}],ATTACK_OVERLAYS:[0,0,[{x:55,y:11,w:38,h:18},{x:87,y:2,w:30,h:17}],0,0]},middle_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_light_kick.gif",OFFSET_X:-35,IS_COPY_IMG:true,HIT_SOUND_NAME:"hit_middle_kick",FPS:10,WIDTH:114,HEIGHT:94,COUNT:1,POWER:10,DEFENCED_POWER:0,ATTACK_TYPE:"top",FRAME_TIMES:[1,1.2,.6,1.2,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:43,y:6,w:46,h:85},{x:27,y:5,w:48,h:86},[{x:85,y:2,w:28,h:16},{x:37,y:46,w:25,h:46},{x:2,y:4,w:83,h:41}],{x:27,y:4,w:51,h:88},{x:42,y:4,w:46,h:87}],ATTACK_OVERLAYS:[0,0,[{x:55,y:11,w:38,h:18},{x:87,y:2,w:30,h:17}],0,0]},heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_heavy_kick.gif",OFFSET_X:-12,IS_COPY_IMG:false,HIT_SOUND_NAME:"hit_heavy_kick",FPS:8,WIDTH:120,HEIGHT:94,COUNT:1,POWER:20,DEFENCED_POWER:0,ATTACK_TYPE:"impact",FRAME_TIMES:[1.2,1.2,1,1,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[[{x:47,y:59,w:26,h:33},{x:11,y:20,w:62,h:38}],[{x:67,y:3,w:25,h:25},{x:48,y:58,w:25,h:33},{x:4,y:22,w:68,h:35}],[{x:44,y:6,w:26,h:8},{x:69,y:17,w:30,h:17},{x:91,y:2,w:30,h:16},{x:44,y:52,w:25,h:40},{x:4,y:17,w:66,h:35}],[{x:43,y:51,w:23,h:41},{x:2,y:19,w:95,h:31}],[{x:25,y:35,w:32,h:56},{x:8,y:11,w:30,h:37}]],ATTACK_OVERLAYS:[0,[{x:59,y:14,w:20,h:22},{x:77,y:0,w:15,h:25}],[{x:69,y:13,w:28,h:20},{x:94,y:0,w:25,h:18}],0,0]},jump_up:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jumpUp.gif",FPS:12,COUNT:1,WIDTH:56,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:5,y:28,w:42,h:77},{x:3,y:8,w:51,h:96},{x:7,y:12,w:43,h:85},{x:5,y:20,w:42,h:71},{x:10,y:22,w:41,h:67},{x:6,y:16,w:43,h:77},{x:4,y:9,w:45,h:91},{x:4,y:28,w:45,h:78}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},jump_down:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_down.gif",FPS:12,COUNT:1,WIDTH:55,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:14,w:41,h:78},{x:5,y:13,w:45,h:88}],FRAME_TIMES:[1,1]},jump_forward:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_forward.gif",FPS:12,OFFSET_X:-30,COUNT:1,WIDTH:122,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:37,y:27,w:46,h:78},{x:38,y:12,w:46,h:93},{x:41,y:27,w:48,h:73},{x:4,y:37,w:103,h:33},{x:36,y:15,w:47,h:72},[{x:57,y:34,w:67,h:25},{x:6,y:41,w:62,h:37}],[{x:58,y:44,w:36,h:60},{x:25,y:17,w:47,h:46}],{x:42,y:12,w:46,h:91},{x:39,y:27,w:42,h:78}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},jump_back:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_back.gif",FPS:12,OFFSET_X:-30,COUNT:1,WIDTH:122,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:39,y:26,w:42,h:77},{x:40,y:13,w:45,h:91},[{x:60,y:47,w:36,h:56},{x:24,y:18,w:56,h:40}],[{x:59,y:34,w:60,h:27},{x:0,y:44,w:62,h:33}],{x:35,y:20,w:51,h:71},{x:5,y:37,w:96,h:36},{x:44,y:23,w:47,h:75},{x:43,y:8,w:40,h:97},{x:40,y:26,w:42,h:80}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},near_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_light_boxing.gif",FPS:18,COUNT:1,WIDTH:62,HEIGHT:98,HIT_SOUND_NAME:"hit_light",POWER:5,CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:4,y:7,w:46,h:87},{x:3,y:8,w:51,h:87},{x:4,y:8,w:48,h:86}],ATTACK_OVERLAYS:[0,{x:37,y:0,w:25,h:25},0],FRAME_TIMES:[1.2,1,1.2]},near_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_middle_boxing.gif",FPS:14,COUNT:1,WIDTH:86,HEIGHT:94,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:13,y:4,w:47,h:86},{x:19,y:4,w:45,h:87},{x:13,y:6,w:53,h:85},{x:15,y:5,w:50,h:87},{x:13,y:6,w:53,h:85},{x:19,y:4,w:45,h:87},{x:13,y:4,w:47,h:86}],ATTACK_OVERLAYS:[0,0,{x:60,y:16,w:27,h:16},{x:57,y:20,w:11,h:18},0,0,0],FRAME_TIMES:[1.2,1,1,.6,1,1.2,1.2]},near_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_heavy_boxing.gif",FPS:10,COUNT:1,WIDTH:89,HEIGHT:113,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",CALL_ANIMATION:"",ATTACK_TYPE:"impact",BODY_OVERLAYS:[{x:3,y:26,w:51,h:83},{x:13,y:25,w:48,h:86},{x:12,y:23,w:53,h:87},[{x:6,y:72,w:22,h:37},{x:29,y:18,w:40,h:92}],{x:15,y:24,w:51,h:87},{x:3,y:25,w:51,h:86}],ATTACK_OVERLAYS:[0,0,{x:65,y:32,w:25,h:21},{x:62,y:0,w:20,h:42},0,0],FRAME_TIMES:[1,1.4,1,.6,.8,1]},near_light_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_light_kick.gif",FPS:18,OFFSET_X:-4,COUNT:1,WIDTH:88,HEIGHT:94,POWER:5,HIT_SOUND_NAME:"hit_light",CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:5,w:43,h:86},{x:4,y:3,w:36,h:87},[{x:44,y:38,w:25,h:18},{x:15,y:4,w:30,h:87}],{x:6,y:5,w:33,h:86},{x:8,y:5,w:47,h:86}],ATTACK_OVERLAYS:[0,0,[{x:62,y:49,w:25,h:17},{x:45,y:39,w:25,h:17}],0,0],FRAME_TIMES:[1,.8,.8,1,1]},near_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_middle_kick.gif",FPS:12,COUNT:1,WIDTH:86,HEIGHT:102,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",CALL_ANIMATION:"",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:14,y:16,w:52,h:83},{x:29,y:10,w:42,h:88},{x:39,y:1,w:41,h:101},{x:29,y:10,w:42,h:88},{x:14,y:16,w:52,h:83}],ATTACK_OVERLAYS:[0,0,{x:61,y:31,w:25,h:40},0,0],FRAME_TIMES:[1.2,.8,.8,.8,1.2]},near_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_near_heavy_kick.gif",FPS:10,COUNT:1,WIDTH:97,HEIGHT:122,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",CALL_ANIMATION:"",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:5,y:33,w:46,h:86},{x:4,y:32,w:40,h:86},{x:9,y:7,w:40,h:113},[{x:37,y:42,w:41,h:25},{x:6,y:18,w:35,h:102}],{x:3,y:29,w:37,h:92},{x:5,y:30,w:45,h:88}],ATTACK_OVERLAYS:[0,0,{x:31,y:1,w:18,h:55},[{x:67,y:32,w:30,h:21},{x:37,y:49,w:38,h:20}],0,0],FRAME_TIMES:[1.2,1,.8,1,1.2,1.2]},crouch_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_light_boxing.gif",FPS:18,COUNT:1,WIDTH:95,HEIGHT:61,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"bottom",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:6,y:1,w:56,h:57},{x:5,y:7,w:56,h:51},{x:6,y:1,w:56,h:57}],ATTACK_OVERLAYS:[0,{x:51,y:11,w:45,h:11},0],FRAME_TIMES:[1.2,1,1.2]},crouch_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_middle_boxing.gif",FPS:12,COUNT:1,WIDTH:92,HEIGHT:62,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:8,y:3,w:52,h:57},{x:8,y:3,w:48,h:56},{x:6,y:4,w:55,h:55}],ATTACK_OVERLAYS:[0,{x:47,y:10,w:46,h:11},0],CALL_ANIMATION:"",FRAME_TIMES:[1,.8,1]},crouch_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_heavy_boxing.gif",FPS:10,COUNT:1,WIDTH:73,HEIGHT:125,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"heavy",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:6,y:56,w:45,h:68},{x:5,y:37,w:48,h:87},{x:11,y:29,w:45,h:95},{x:6,y:36,w:47,h:87},{x:6,y:58,w:46,h:67}],ATTACK_OVERLAYS:[{x:39,y:72,w:21,h:18},{x:55,y:34,w:18,h:27},[{x:43,y:14,w:15,h:13},{x:40,y:0,w:12,h:13}],{x:53,y:35,w:21,h:25},{x:43,y:72,w:18,h:21}],FRAME_TIMES:[1,1.2,.8,.6,.6]},crouch_light_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_light_kick.gif",FPS:18,COUNT:1,WIDTH:112,HEIGHT:64,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:7,y:3,w:56,h:57},[{x:39,y:41,w:71,h:18},{x:6,y:1,w:41,h:61}],{x:7,y:3,w:56,h:57}],ATTACK_OVERLAYS:[0,{x:47,y:44,w:62,h:16},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1,1]},crouch_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_middle_kick.gif",FPS:12,COUNT:1,WIDTH:146,HEIGHT:64,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:9,y:2,w:52,h:60},[{x:5,y:41,w:85,h:21},{x:4,y:5,w:48,h:36}],[{x:74,y:41,w:63,h:18},{x:20,y:12,w:52,h:50}],0,0],ATTACK_OVERLAYS:[0,0,{x:72,y:43,w:71,h:18},0,0],CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1,1]},crouch_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_crouch_heavy_kick.gif",FPS:8,COUNT:1,WIDTH:121,HEIGHT:61,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"fall",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:3,y:6,w:43,h:51},{x:9,y:6,w:57,h:53},{x:3,y:5,w:42,h:53},{x:9,y:5,w:53,h:53},{x:3,y:4,w:50,h:53}],ATTACK_OVERLAYS:[0,{x:52,y:37,w:68,h:20},{x:43,y:45,w:20,h:15},0,0],FRAME_TIMES:[1.2,1,1,1.2,1.2]},jump_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_light_boxing.gif",FPS:16,COUNT:1,WIDTH:81,HEIGHT:71,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:4,w:48,h:62},{x:2,y:4,w:52,h:65}],ATTACK_OVERLAYS:[0,[{x:63,y:28,w:18,h:15},{x:50,y:20,w:17,h:13}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jump_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_middle_boxing.gif",FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.4,1]},jump_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1]},jump_light_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_light_kick.gif",FPS:16,COUNT:1,WIDTH:76,HEIGHT:92,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:17,y:4,w:40,h:82},{x:8,y:2,w:45,h:83}],ATTACK_OVERLAYS:[0,[{x:38,y:14,w:25,h:21},{x:57,y:0,w:20,h:18}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jump_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_middle_kick.gif",FPS:12,COUNT:1,WIDTH:76,HEIGHT:92,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:17,y:4,w:40,h:82},{x:8,y:2,w:45,h:83},{x:17,y:4,w:40,h:82}],ATTACK_OVERLAYS:[0,[{x:38,y:14,w:25,h:21},{x:57,y:0,w:20,h:18}]],CALL_ANIMATION:"",FRAME_TIMES:[1,.4,1]},jump_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_heavy_kick.gif",FPS:12,COUNT:1,WIDTH:94,HEIGHT:104,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:11,y:7,w:46,h:93},{x:5,y:12,w:41,h:71},[{x:40,y:41,w:40,h:17},{x:5,y:12,w:35,h:83}],{x:8,y:14,w:38,h:87},[{x:30,y:69,w:25,h:25},{x:4,y:17,w:42,h:50}]],ATTACK_OVERLAYS:[0,0,{x:33,y:42,w:58,h:15},0,0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1.2,1.2]},jumpMoved_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_light_boxing.gif",IS_COPY_IMG:true,FPS:16,COUNT:1,WIDTH:81,HEIGHT:71,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:4,w:48,h:62},{x:2,y:4,w:52,h:65}],ATTACK_OVERLAYS:[0,[{x:63,y:28,w:18,h:15},{x:50,y:20,w:17,h:13}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jumpMoved_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.4,1]},jumpMoved_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1]},jumpMoved_light_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jumpMoved_light_kick.gif",FPS:12,COUNT:1,WIDTH:77,HEIGHT:76,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:14,y:3,w:42,h:71},{x:16,y:6,w:43,h:66},{x:7,y:8,w:51,h:61}],ATTACK_OVERLAYS:[0,0,{x:56,y:21,w:18,h:42}],CALL_ANIMATION:"",FRAME_TIMES:[1,1,.01]},jumpMoved_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jumpMoved_middle_kick.gif",FPS:12,COUNT:1,WIDTH:110,HEIGHT:76,HIT_SOUND_NAME:"hit_middle_kick",CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1],POWER:10,ATTACK_TYPE:"top",ATTACK_OVERLAYS:[0,0,{x:42,y:45,w:68,h:20},0],BODY_OVERLAYS:[{x:5,y:4,w:45,h:70},[{x:24,y:53,w:27,h:20},{x:9,y:3,w:42,h:50}],{x:4,y:11,w:51,h:55},[{x:29,y:55,w:25,h:18},{x:4,y:5,w:52,h:48}]]},jumpMoved_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_jumpMoved_middle_kick.gif",IS_COPY_IMG:true,FPS:12,COUNT:1,WIDTH:110,HEIGHT:76,HIT_SOUND_NAME:"hit_heavy_kick",CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.8,1],POWER:20,ATTACK_TYPE:"top",ATTACK_OVERLAYS:[0,0,{x:42,y:45,w:68,h:20},0],BODY_OVERLAYS:[{x:5,y:4,w:45,h:70},[{x:24,y:53,w:27,h:20},{x:9,y:3,w:42,h:50}],{x:4,y:11,w:51,h:55},[{x:29,y:55,w:25,h:18},{x:4,y:5,w:52,h:48}]]},beAttacked_top:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_top.gif",FPS:10,WIDTH:68,HEIGHT:90,COUNT:1,FRAME_TIMES:[1,.4],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:5,y:5,w:48,h:82}]},beAttacked_bottom:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_bottom.gif",FPS:6,WIDTH:66,HEIGHT:85,COUNT:1,FRAME_TIMES:[1,.5],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:7,y:6,w:41,h:77}]},beAttacked_heavy:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_heavy.gif",FPS:6,WIDTH:75,HEIGHT:84,COUNT:1,FRAME_TIMES:[.4,.6,.8],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:7,y:9,w:55,h:71},{x:3,y:14,w:55,h:63}]},beAttacked_impact:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_impact.gif",FPS:6,WIDTH:81,HEIGHT:93,COUNT:1,FRAME_TIMES:[.5,.4,1],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,[{x:28,y:48,w:45,h:42},{x:2,y:6,w:42,h:47}],{x:14,y:8,w:42,h:82}]},beAttacked_fire:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_fire.gif",FPS:40,WIDTH:121,HEIGHT:71,FRAME_TIMES:[1,1,1,1],CALL_ANIMATION:"wait"},beAttacked_electric:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_electric.gif",FPS:40,WIDTH:85,HEIGHT:101,FRAME_TIMES:[1,1],CALL_ANIMATION:"wait"},beAttacked_fall:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_fall.gif",FPS:10,WIDTH:120,HEIGHT:80,OFFSET_X:-30,COUNT:1,FRAME_TIMES:[1,1,1,.6],CALL_ANIMATION:"somesault_up"},beAttacked_up_fall:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_beAttacked_fall.gif",FPS:10,IS_COPY_IMG:true,WIDTH:120,HEIGHT:80,OFFSET_X:-30,COUNT:1,FRAME_TIMES:[1,1,1,.6],CALL_ANIMATION:"somesault_up"},beAttacked_before_fall_down:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_before_fall_down.gif",FPS:4,WIDTH:76,HEIGHT:66,COUNT:1,FRAME_TIMES:[1],CALL_ANIMATION:"",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},beAttacked_fall_down:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_fall_down.gif",FPS:6,WIDTH:128,HEIGHT:44,COUNT:1,FRAME_TIMES:[1.4,1.4,1],CALL_ANIMATION:"somesault_up",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},somesault_up:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_somesault_up.gif",FPS:8,WIDTH:93,HEIGHT:115,COUNT:1,FRAME_TIMES:[1,1,1,1,1],CALL_ANIMATION:"wait",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},wave_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_wave_boxing.gif",FPS:12,COUNT:1,WIDTH:106,HEIGHT:90,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:8,y:4,w:51,h:82},[{x:5,y:57,w:72,h:31},{x:9,y:6,w:43,h:46}],[{x:7,y:55,w:73,h:31},{x:21,y:10,w:41,h:42}],[{x:7,y:58,w:87,h:28},{x:39,y:14,w:58,h:40}]],FRAME_TIMES:[1,.5,.8,.2],MAGIC_FRAMES:{frame_4:{x:80,y:20}}},before_whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_before_whirl_kick.gif",FPS:12,COUNT:1,WIDTH:69,HEIGHT:120,CALL_ANIMATION:"",FRAME_TIMES:[1,1,1]},whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_whirl_kick.gif",FPS:18,OFFSET_X:-40,COUNT:1,WIDTH:150,HEIGHT:132,POWER:15,DEFENCED_POWER:5,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"up_fall",BODY_OVERLAYS:[{x:55,y:10,w:45,h:83},[{x:96,y:38,w:45,h:20},{x:53,y:5,w:41,h:93}],{x:54,y:6,w:41,h:88},[{x:12,y:35,w:47,h:18},{x:61,y:6,w:35,h:85}]],ATTACK_OVERLAYS:[0,{x:87,y:38,w:57,h:20},0,{x:9,y:36,w:58,h:17}],CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1]},after_whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_after_whirl_kick.gif",FPS:16,COUNT:1,WIDTH:55,HEIGHT:132,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:8,y:11,w:42,h:86},{x:10,y:16,w:41,h:83},{x:6,y:22,w:41,h:83},{x:4,y:39,w:41,h:78},{x:7,y:52,w:40,h:77}],FRAME_TIMES:[1,1,1,1,1]},impact_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_impact_boxing.gif",FPS:10,COUNT:1,WIDTH:68,HEIGHT:125,CALL_ANIMATION:"",HIT_SOUND_NAME:"hit_heavy_boxing",POWER:20,DEFENCED_POWER:5,ATTACK_TYPE:"up_fall",ATTACK_OVERLAYS:[0,{x:39,y:52,w:28,h:25},{x:39,y:0,w:17,h:52}],FRAME_TIMES:[1,.8,1]},after_impact_boxing:{IMG:config.Configure.url+"images/fighter/RYU1/RYU1_after_impact_boxing.gif",FPS:12,COUNT:1,WIDTH:59,HEIGHT:119,HIT_SOUND_NAME:"hit_heavy_boxing",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:13,y:5,w:40,h:108},{x:10,y:16,w:40,h:96},{x:9,y:28,w:43,h:86}],FRAME_TIMES:[1,1,1]}});$package("config.fighterAction","RYU2",{wait:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_wait.gif",FPS:12,WIDTH:60,HEIGHT:93,FRAME_TIMES:[],BODY_OVERLAYS:[{x:7,y:9,w:46,h:84},{x:5,y:8,w:49,h:85},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88},{x:5,y:5,w:49,h:88}]},stand_crouch:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch.gif",FPS:20,WIDTH:61,HEIGHT:83,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:6,y:23,w:50,h:58}]},stand_up:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_stand_up.gif",FPS:20,WIDTH:61,HEIGHT:83,COUNT:1,CALL_ANIMATION:"wait",FRAME_TIMES:[],BODY_OVERLAYS:[{x:7,y:27,w:51,h:53},{x:5,y:18,w:51,h:62},{x:6,y:2,w:43,h:80}]},stand_up_defense:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_stand_up_defense.gif",FPS:14,WIDTH:65,HEIGHT:93,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:3,y:4,w:52,h:86},{x:5,y:4,w:53,h:87}]},stand_crouch_defense:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_stand_crouch_defense.gif",FPS:14,WIDTH:58,HEIGHT:64,COUNT:1,FRAME_TIMES:[],BODY_OVERLAYS:[{x:6,y:7,w:46,h:55},{x:4,y:3,w:53,h:58}]},walk_back:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_goBack.gif",FPS:15,WIDTH:61,HEIGHT:91,BODY_OVERLAYS:[{x:4,y:8,w:52,h:81},{x:6,y:4,w:48,h:85},{x:5,y:4,w:51,h:82},{x:6,y:4,w:50,h:83},{x:3,y:4,w:52,h:83},{x:4,y:5,w:51,h:83}],FRAME_TIMES:[1,.5,1,1,1,.5]},walk_forward:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_goForward.gif",FPS:22,WIDTH:64,HEIGHT:92,BODY_OVERLAYS:[{x:10,y:6,w:42,h:83},{x:9,y:12,w:42,h:78},{x:12,y:6,w:47,h:83},{x:8,y:3,w:48,h:85},{x:6,y:5,w:46,h:85},{x:13,y:5,w:41,h:85}],FRAME_TIMES:[.4,1,.5,.5,.5,1]},light_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_light_boxing.gif",FPS:18,WIDTH:92,HEIGHT:91,COUNT:1,POWER:5,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",FRAME_TIMES:[1.2,1,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:3,w:47,h:85},{x:4,y:4,w:50,h:83},{x:4,y:3,w:47,h:85}],ATTACK_OVERLAYS:[0,{x:47,y:13,w:45,h:11},0]},middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_middle_boxing.gif",FPS:12,WIDTH:115,HEIGHT:95,COUNT:1,POWER:10,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"heavy",FRAME_TIMES:[1.1,1.1,1,1,1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:6,w:45,h:86},{x:16,y:4,w:51,h:88},{x:17,y:4,w:53,h:88},{x:16,y:3,w:51,h:91},{x:4,y:2,w:46,h:91}],ATTACK_OVERLAYS:[0,0,{x:61,y:16,w:53,h:11},0,0]},heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_middle_boxing.gif",IS_COPY_IMG:true,FPS:8,WIDTH:115,HEIGHT:95,COUNT:1,POWER:20,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"impact",FRAME_TIMES:[1.2,1.2,1,.8,1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:6,w:45,h:86},{x:16,y:4,w:51,h:88},{x:17,y:4,w:53,h:88},{x:16,y:3,w:51,h:91},{x:4,y:2,w:46,h:91}],ATTACK_OVERLAYS:[0,0,{x:61,y:16,w:53,h:11},0,0]},light_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_light_kick.gif",OFFSET_X:-35,IS_COPY_IMG:false,FPS:14,WIDTH:114,HEIGHT:94,COUNT:1,POWER:5,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",FRAME_TIMES:[1.1,1.2,.9,1.2,1.1],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:43,y:6,w:46,h:85},{x:27,y:5,w:48,h:86},[{x:85,y:2,w:28,h:16},{x:37,y:46,w:25,h:46},{x:2,y:4,w:83,h:41}],{x:27,y:4,w:51,h:88},{x:42,y:4,w:46,h:87}],ATTACK_OVERLAYS:[0,0,[{x:55,y:11,w:38,h:18},{x:87,y:2,w:30,h:17}],0,0]},middle_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_light_kick.gif",OFFSET_X:-35,IS_COPY_IMG:true,FPS:10,WIDTH:114,HEIGHT:94,COUNT:1,POWER:10,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_middle_kick",ATTACK_TYPE:"top",FRAME_TIMES:[1,1.2,.6,1.2,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[{x:43,y:6,w:46,h:85},{x:27,y:5,w:48,h:86},[{x:85,y:2,w:28,h:16},{x:37,y:46,w:25,h:46},{x:2,y:4,w:83,h:41}],{x:27,y:4,w:51,h:88},{x:42,y:4,w:46,h:87}],ATTACK_OVERLAYS:[0,0,[{x:55,y:11,w:38,h:18},{x:87,y:2,w:30,h:17}],0,0]},heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_heavy_kick.gif",OFFSET_X:-12,IS_COPY_IMG:false,FPS:8,WIDTH:120,HEIGHT:94,COUNT:1,POWER:20,DEFENCED_POWER:0,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"impact",FRAME_TIMES:[1.2,1.2,1,1,1.2],CALL_ANIMATION:"",BODY_OVERLAYS:[[{x:47,y:59,w:26,h:33},{x:11,y:20,w:62,h:38}],[{x:67,y:3,w:25,h:25},{x:48,y:58,w:25,h:33},{x:4,y:22,w:68,h:35}],[{x:44,y:6,w:26,h:8},{x:69,y:17,w:30,h:17},{x:91,y:2,w:30,h:16},{x:44,y:52,w:25,h:40},{x:4,y:17,w:66,h:35}],[{x:43,y:51,w:23,h:41},{x:2,y:19,w:95,h:31}],[{x:25,y:35,w:32,h:56},{x:8,y:11,w:30,h:37}]],ATTACK_OVERLAYS:[0,[{x:59,y:14,w:20,h:22},{x:77,y:0,w:15,h:25}],[{x:69,y:13,w:28,h:20},{x:94,y:0,w:25,h:18}],0,0]},jump_up:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jumpUp.gif",FPS:12,COUNT:1,WIDTH:56,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:5,y:28,w:42,h:77},{x:3,y:8,w:51,h:96},{x:7,y:12,w:43,h:85},{x:5,y:20,w:42,h:71},{x:10,y:22,w:41,h:67},{x:6,y:16,w:43,h:77},{x:4,y:9,w:45,h:91},{x:4,y:28,w:45,h:78}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},jump_down:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_down.gif",FPS:12,COUNT:1,WIDTH:55,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:4,y:14,w:41,h:78},{x:5,y:13,w:45,h:88}],FRAME_TIMES:[1,1]},jump_forward:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_forward.gif",FPS:12,OFFSET_X:-30,COUNT:1,WIDTH:122,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:37,y:27,w:46,h:78},{x:38,y:12,w:46,h:93},{x:41,y:27,w:48,h:73},{x:4,y:37,w:103,h:33},{x:36,y:15,w:47,h:72},[{x:57,y:34,w:67,h:25},{x:6,y:41,w:62,h:37}],[{x:58,y:44,w:36,h:60},{x:25,y:17,w:47,h:46}],{x:42,y:12,w:46,h:91},{x:39,y:27,w:42,h:78}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},jump_back:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_back.gif",FPS:12,OFFSET_X:-30,COUNT:1,WIDTH:122,HEIGHT:109,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:39,y:26,w:42,h:77},{x:40,y:13,w:45,h:91},[{x:60,y:47,w:36,h:56},{x:24,y:18,w:56,h:40}],[{x:59,y:34,w:60,h:27},{x:0,y:44,w:62,h:33}],{x:35,y:20,w:51,h:71},{x:5,y:37,w:96,h:36},{x:44,y:23,w:47,h:75},{x:43,y:8,w:40,h:97},{x:40,y:26,w:42,h:80}],FRAME_TIMES:[.375,1.1,1.1,1,1,1,.625,.625]},near_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_light_boxing.gif",FPS:18,COUNT:1,WIDTH:62,HEIGHT:98,HIT_SOUND_NAME:"hit_light",POWER:5,CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:4,y:7,w:46,h:87},{x:3,y:8,w:51,h:87},{x:4,y:8,w:48,h:86}],ATTACK_OVERLAYS:[0,{x:37,y:0,w:25,h:25},0],FRAME_TIMES:[1.2,1,1.2]},near_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_middle_boxing.gif",FPS:14,COUNT:1,WIDTH:86,HEIGHT:94,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:13,y:4,w:47,h:86},{x:19,y:4,w:45,h:87},{x:13,y:6,w:53,h:85},{x:15,y:5,w:50,h:87},{x:13,y:6,w:53,h:85},{x:19,y:4,w:45,h:87},{x:13,y:4,w:47,h:86}],ATTACK_OVERLAYS:[0,0,{x:60,y:16,w:27,h:16},{x:57,y:20,w:11,h:18},0,0,0],FRAME_TIMES:[1.2,1,1,.6,1,1.2,1.2]},near_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_heavy_boxing.gif",FPS:10,COUNT:1,WIDTH:89,HEIGHT:113,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",CALL_ANIMATION:"",ATTACK_TYPE:"impact",BODY_OVERLAYS:[{x:3,y:26,w:51,h:83},{x:13,y:25,w:48,h:86},{x:12,y:23,w:53,h:87},[{x:6,y:72,w:22,h:37},{x:29,y:18,w:40,h:92}],{x:15,y:24,w:51,h:87},{x:3,y:25,w:51,h:86}],ATTACK_OVERLAYS:[0,0,{x:65,y:32,w:25,h:21},{x:62,y:0,w:20,h:42},0,0],FRAME_TIMES:[1,1.4,1,.6,.8,1]},near_light_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_light_kick.gif",FPS:18,OFFSET_X:-4,COUNT:1,WIDTH:88,HEIGHT:94,POWER:5,HIT_SOUND_NAME:"hit_light",CALL_ANIMATION:"",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:5,w:43,h:86},{x:4,y:3,w:36,h:87},[{x:44,y:38,w:25,h:18},{x:15,y:4,w:30,h:87}],{x:6,y:5,w:33,h:86},{x:8,y:5,w:47,h:86}],ATTACK_OVERLAYS:[0,0,[{x:62,y:49,w:25,h:17},{x:45,y:39,w:25,h:17}],0,0],FRAME_TIMES:[1,.8,.8,1,1]},near_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_middle_kick.gif",FPS:12,COUNT:1,WIDTH:86,HEIGHT:102,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",CALL_ANIMATION:"",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:14,y:16,w:52,h:83},{x:29,y:10,w:42,h:88},{x:39,y:1,w:41,h:101},{x:29,y:10,w:42,h:88},{x:14,y:16,w:52,h:83}],ATTACK_OVERLAYS:[0,0,{x:61,y:31,w:25,h:40},0,0],FRAME_TIMES:[1.2,.8,.8,.8,1.2]},near_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_near_heavy_kick.gif",FPS:10,COUNT:1,WIDTH:97,HEIGHT:122,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",CALL_ANIMATION:"",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:5,y:33,w:46,h:86},{x:4,y:32,w:40,h:86},{x:9,y:7,w:40,h:113},[{x:37,y:42,w:41,h:25},{x:6,y:18,w:35,h:102}],{x:3,y:29,w:37,h:92},{x:5,y:30,w:45,h:88}],ATTACK_OVERLAYS:[0,0,{x:31,y:1,w:18,h:55},[{x:67,y:32,w:30,h:21},{x:37,y:49,w:38,h:20}],0,0],FRAME_TIMES:[1.2,1,.8,1,1.2,1.2]},crouch_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_light_boxing.gif",FPS:18,COUNT:1,WIDTH:95,HEIGHT:61,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"bottom",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:6,y:1,w:56,h:57},{x:5,y:7,w:56,h:51},{x:6,y:1,w:56,h:57}],ATTACK_OVERLAYS:[0,{x:51,y:11,w:45,h:11},0],FRAME_TIMES:[1.2,1,1.2]},crouch_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_middle_boxing.gif",FPS:12,COUNT:1,WIDTH:92,HEIGHT:62,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:8,y:3,w:52,h:57},{x:8,y:3,w:48,h:56},{x:6,y:4,w:55,h:55}],ATTACK_OVERLAYS:[0,{x:47,y:10,w:46,h:11},0],CALL_ANIMATION:"",FRAME_TIMES:[1,.8,1]},crouch_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_heavy_boxing.gif",FPS:10,COUNT:1,WIDTH:73,HEIGHT:125,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"heavy",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:6,y:56,w:45,h:68},{x:5,y:37,w:48,h:87},{x:11,y:29,w:45,h:95},{x:6,y:36,w:47,h:87},{x:6,y:58,w:46,h:67}],ATTACK_OVERLAYS:[{x:39,y:72,w:21,h:18},{x:55,y:34,w:18,h:27},[{x:43,y:14,w:15,h:13},{x:40,y:0,w:12,h:13}],{x:53,y:35,w:21,h:25},{x:43,y:72,w:18,h:21}],FRAME_TIMES:[1,1.2,.8,.6,.6]},crouch_light_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_light_kick.gif",FPS:18,COUNT:1,WIDTH:112,HEIGHT:64,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:7,y:3,w:56,h:57},[{x:39,y:41,w:71,h:18},{x:6,y:1,w:41,h:61}],{x:7,y:3,w:56,h:57}],ATTACK_OVERLAYS:[0,{x:47,y:44,w:62,h:16},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1,1]},crouch_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_middle_kick.gif",FPS:12,COUNT:1,WIDTH:146,HEIGHT:64,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",ATTACK_TYPE:"bottom",BODY_OVERLAYS:[{x:9,y:2,w:52,h:60},[{x:5,y:41,w:85,h:21},{x:4,y:5,w:48,h:36}],[{x:74,y:41,w:63,h:18},{x:20,y:12,w:52,h:50}],0,0],ATTACK_OVERLAYS:[0,0,{x:72,y:43,w:71,h:18},0,0],CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1,1]},crouch_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_crouch_heavy_kick.gif",FPS:8,COUNT:1,WIDTH:121,HEIGHT:61,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"fall",CALL_ANIMATION:"",BODY_OVERLAYS:[{x:3,y:6,w:43,h:51},{x:9,y:6,w:57,h:53},{x:3,y:5,w:42,h:53},{x:9,y:5,w:53,h:53},{x:3,y:4,w:50,h:53}],ATTACK_OVERLAYS:[0,{x:52,y:37,w:68,h:20},{x:43,y:45,w:20,h:15},0,0],FRAME_TIMES:[1.2,1,1,1.2,1.2]},jump_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_light_boxing.gif",FPS:16,COUNT:1,WIDTH:81,HEIGHT:71,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:4,w:48,h:62},{x:2,y:4,w:52,h:65}],ATTACK_OVERLAYS:[0,[{x:63,y:28,w:18,h:15},{x:50,y:20,w:17,h:13}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jump_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_middle_boxing.gif",FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.4,1]},jump_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1]},jump_light_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_light_kick.gif",FPS:16,COUNT:1,WIDTH:76,HEIGHT:92,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:17,y:4,w:40,h:82},{x:8,y:2,w:45,h:83}],ATTACK_OVERLAYS:[0,[{x:38,y:14,w:25,h:21},{x:57,y:0,w:20,h:18}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jump_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_middle_kick.gif",FPS:12,COUNT:1,WIDTH:76,HEIGHT:92,POWER:10,HIT_SOUND_NAME:"hit_middle_kick",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:17,y:4,w:40,h:82},{x:8,y:2,w:45,h:83},{x:17,y:4,w:40,h:82}],ATTACK_OVERLAYS:[0,[{x:38,y:14,w:25,h:21},{x:57,y:0,w:20,h:18}]],CALL_ANIMATION:"",FRAME_TIMES:[1,.4,1]},jump_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_heavy_kick.gif",FPS:12,COUNT:1,WIDTH:94,HEIGHT:104,POWER:20,HIT_SOUND_NAME:"hit_heavy_kick",ATTACK_TYPE:"heavy",BODY_OVERLAYS:[{x:11,y:7,w:46,h:93},{x:5,y:12,w:41,h:71},[{x:40,y:41,w:40,h:17},{x:5,y:12,w:35,h:83}],{x:8,y:14,w:38,h:87},[{x:30,y:69,w:25,h:25},{x:4,y:17,w:42,h:50}]],ATTACK_OVERLAYS:[0,0,{x:33,y:42,w:58,h:15},0,0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1.2,1.2]},jumpMoved_light_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_light_boxing.gif",IS_COPY_IMG:true,FPS:16,COUNT:1,WIDTH:81,HEIGHT:71,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:9,y:4,w:48,h:62},{x:2,y:4,w:52,h:65}],ATTACK_OVERLAYS:[0,[{x:63,y:28,w:18,h:15},{x:50,y:20,w:17,h:13}]],CALL_ANIMATION:"",FRAME_TIMES:[1.2,.01]},jumpMoved_middle_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:10,HIT_SOUND_NAME:"hit_middle_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.4,1]},jumpMoved_heavy_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jump_middle_boxing.gif",IS_COPY_IMG:true,FPS:12,OFFSET_X:-13,COUNT:1,WIDTH:88,HEIGHT:77,POWER:20,HIT_SOUND_NAME:"hit_heavy_boxing",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:16,y:13,w:47,h:60},{x:9,y:6,w:48,h:67},[{x:44,y:24,w:38,h:15},{x:10,y:12,w:40,h:55}],{x:17,y:12,w:45,h:61}],ATTACK_OVERLAYS:[0,0,{x:46,y:27,w:40,h:20},0],CALL_ANIMATION:"",FRAME_TIMES:[1,1.2,1,1]},jumpMoved_light_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jumpMoved_light_kick.gif",FPS:12,COUNT:1,WIDTH:77,HEIGHT:76,POWER:5,HIT_SOUND_NAME:"hit_light",ATTACK_TYPE:"top",BODY_OVERLAYS:[{x:14,y:3,w:42,h:71},{x:16,y:6,w:43,h:66},{x:7,y:8,w:51,h:61}],ATTACK_OVERLAYS:[0,0,{x:56,y:21,w:18,h:42}],CALL_ANIMATION:"",FRAME_TIMES:[1,1,.01]},jumpMoved_middle_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jumpMoved_middle_kick.gif",FPS:12,COUNT:1,WIDTH:110,HEIGHT:76,HIT_SOUND_NAME:"hit_middle_kick",CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1],POWER:10,ATTACK_TYPE:"top",ATTACK_OVERLAYS:[0,0,{x:42,y:45,w:68,h:20},0],BODY_OVERLAYS:[{x:5,y:4,w:45,h:70},[{x:24,y:53,w:27,h:20},{x:9,y:3,w:42,h:50}],{x:4,y:11,w:51,h:55},[{x:29,y:55,w:25,h:18},{x:4,y:5,w:52,h:48}]]},jumpMoved_heavy_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_jumpMoved_middle_kick.gif",IS_COPY_IMG:true,FPS:12,COUNT:1,WIDTH:110,HEIGHT:76,HIT_SOUND_NAME:"hit_heavy_kick",CALL_ANIMATION:"",FRAME_TIMES:[1.2,1.2,.8,1],POWER:20,ATTACK_TYPE:"top",ATTACK_OVERLAYS:[0,0,{x:42,y:45,w:68,h:20},0],BODY_OVERLAYS:[{x:5,y:4,w:45,h:70},[{x:24,y:53,w:27,h:20},{x:9,y:3,w:42,h:50}],{x:4,y:11,w:51,h:55},[{x:29,y:55,w:25,h:18},{x:4,y:5,w:52,h:48}]]},beAttacked_top:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_top.gif",FPS:10,WIDTH:68,HEIGHT:90,COUNT:1,FRAME_TIMES:[1,.4],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:5,y:5,w:48,h:82}]},beAttacked_bottom:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_bottom.gif",FPS:6,WIDTH:66,HEIGHT:85,COUNT:1,FRAME_TIMES:[1,.5],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:7,y:6,w:41,h:77}]},beAttacked_heavy:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_heavy.gif",FPS:6,WIDTH:75,HEIGHT:84,COUNT:1,FRAME_TIMES:[.4,.6,.8],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,{x:7,y:9,w:55,h:71},{x:3,y:14,w:55,h:63}]},beAttacked_impact:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_impact.gif",FPS:6,WIDTH:81,HEIGHT:93,COUNT:1,FRAME_TIMES:[.5,.4,1],CALL_ANIMATION:"wait",BODY_OVERLAYS:[0,[{x:28,y:48,w:45,h:42},{x:2,y:6,w:42,h:47}],{x:14,y:8,w:42,h:82}]},beAttacked_fire:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_fire.gif",FPS:40,WIDTH:121,HEIGHT:71,FRAME_TIMES:[1,1,1,1],CALL_ANIMATION:"wait"},beAttacked_electric:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_electric.gif",FPS:40,WIDTH:85,HEIGHT:101,FRAME_TIMES:[1,1],CALL_ANIMATION:"wait"},beAttacked_fall:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_fall.gif",FPS:10,OFFSET_X:-30,WIDTH:120,HEIGHT:80,COUNT:1,FRAME_TIMES:[1,1,1,.6],CALL_ANIMATION:"somesault_up"},beAttacked_up_fall:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_beAttacked_fall.gif",FPS:10,IS_COPY_IMG:true,OFFSET_X:-30,WIDTH:120,HEIGHT:80,COUNT:1,FRAME_TIMES:[1,1,1,.6],CALL_ANIMATION:"somesault_up"},beAttacked_before_fall_down:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_before_fall_down.gif",FPS:4,WIDTH:76,HEIGHT:66,COUNT:1,FRAME_TIMES:[1],CALL_ANIMATION:"",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},beAttacked_fall_down:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_fall_down.gif",FPS:6,WIDTH:128,HEIGHT:44,COUNT:1,FRAME_TIMES:[1.4,1.4,1],CALL_ANIMATION:"somesault_up",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},somesault_up:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_somesault_up.gif",FPS:8,WIDTH:93,HEIGHT:115,COUNT:1,FRAME_TIMES:[1,1,1,1,1],CALL_ANIMATION:"wait",BODY_OVERLAYS:[],ATTACK_OVERLAYS:[]},wave_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_wave_boxing.gif",FPS:12,COUNT:1,WIDTH:106,HEIGHT:90,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:8,y:4,w:51,h:82},[{x:5,y:57,w:72,h:31},{x:9,y:6,w:43,h:46}],[{x:7,y:55,w:73,h:31},{x:21,y:10,w:41,h:42}],[{x:7,y:58,w:87,h:28},{x:39,y:14,w:58,h:40}]],FRAME_TIMES:[1,.5,.8,.2],MAGIC_FRAMES:{frame_4:{x:80,y:20}}},before_whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_before_whirl_kick.gif",FPS:12,COUNT:1,WIDTH:69,HEIGHT:120,CALL_ANIMATION:"",FRAME_TIMES:[1,1,1]},whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_whirl_kick.gif",FPS:18,OFFSET_X:-40,COUNT:1,WIDTH:150,HEIGHT:132,POWER:15,DEFENCED_POWER:5,ATTACK_TYPE:"up_fall",HIT_SOUND_NAME:"hit_heavy_kick",BODY_OVERLAYS:[{x:55,y:10,w:45,h:83},[{x:96,y:38,w:45,h:20},{x:53,y:5,w:41,h:93}],{x:54,y:6,w:41,h:88},[{x:12,y:35,w:47,h:18},{x:61,y:6,w:35,h:85}]],ATTACK_OVERLAYS:[0,{x:87,y:38,w:57,h:20},0,{x:9,y:36,w:58,h:17}],CALL_ANIMATION:"",FRAME_TIMES:[1,1,1,1]},after_whirl_kick:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_after_whirl_kick.gif",FPS:16,COUNT:1,WIDTH:55,HEIGHT:132,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:8,y:11,w:42,h:86},{x:10,y:16,w:41,h:83},{x:6,y:22,w:41,h:83},{x:4,y:39,w:41,h:78},{x:7,y:52,w:40,h:77}],FRAME_TIMES:[1,1,1,1,1]},impact_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_impact_boxing.gif",FPS:10,COUNT:1,WIDTH:68,HEIGHT:125,CALL_ANIMATION:"",HIT_SOUND_NAME:"hit_heavy_boxing",POWER:20,DEFENCED_POWER:5,ATTACK_TYPE:"up_fall",ATTACK_OVERLAYS:[0,{x:39,y:52,w:28,h:25},{x:39,y:0,w:17,h:52}],FRAME_TIMES:[1,.8,1]},after_impact_boxing:{IMG:config.Configure.url+"images/fighter/RYU2/RYU2_after_impact_boxing.gif",FPS:12,COUNT:1,WIDTH:59,HEIGHT:119,CALL_ANIMATION:"",BODY_OVERLAYS:[{x:13,y:5,w:40,h:108},{x:10,y:16,w:40,h:96},{x:9,y:28,w:43,h:86}],FRAME_TIMES:[1,1,1]}});$package("aralork.display","Overlay",function(t,e,i,n,_,a){this.group=_||null;this.enabled=true;this.__overlayList=a||[];this.hidden();this.updateEnabled=function(){}}.$extends(aralork.display.DisplayObject).define({setPosition:function(t){aralork.display.Overlay.$super.setPosition.call(this,t);this.check();return this},setOverlayList:function(t){this.__overlayList=t instanceof Array?t:[t];return this},addOverlayList:function(t){this.__overlayList=this.__overlayList.concat(t instanceof Array?t:[t]);return this},fireEvent:function(t){var e=Array.prototype.slice.call(arguments,1),i=this.__eventDispatcher;e.unshift(t);i.dispatchEvent.apply(i,e);return this},check:function(){if(!this.enabled){return this}var t=this.__overlayList,e=t.length,i;while(e--){i=t[e];if(i&&i!==this&&i.enabled&&this.__checkOverlaying(i)){this.fireEvent("overlaying",i,this.__checkRect(this,i));i.fireEvent("overlaying",this,this.__checkRect(i,this))}}return this},destroy:function(){},__checkOverlaying:function(t){var e=+this.x,i=+this.y,n=+this.width,_=+this.height,a=+t.x,s=+t.y,r=+t.width,h=+t.height;return a<e+n&&a+r>e&&s<i+_&&s+h>i},__checkRect:function(t,e){var i=Math.max(+t.x,+e.x),n=Math.max(+t.y,+e.y),_=i===t.x?t.x+t.width:e.x+e.width,a=n===t.y?t.y+t.height:e.y+e.height;return[{x:i,y:n},{x:_,y:n},{x:_,y:a},{x:i,y:a}]}}));$package("role","ActionOverlay",function(t,e,i,n,_,a){this.cfgDelta={x:0,y:0};this.attackType="";this.power=0;this.defencedPower=0;this.hitSoundName="";this.type="";this.manager=null}.$extends(aralork.display.Overlay).define({}));$package("role","FrameOverlayList",function(t,e,i,n,_,a){this.queue=[];this.enabled=true;this.__list=[];this.__parent=a||document.body;this.__overlayConfig=t||[];this.__animation=n;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__lastIndex=0;this.__initList(t,e,i,_);this.__initQueue()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},fireEvent:function(t){this.__eventDispatcher.dispatchEvent(t);return this},refresh:function(t){var e=this.__list,i=this.__animation,n=typeof t==="undefined"?this.__lastIndex:t-1,_=e.length,a=this.__overlayConfig,s=i.width,r=i.scale,h=i.isFlipH,o=i.x,c=i.y,l=(n-1+_)%_,f=e[l];if(!a.length){return}this.__lastIndex=n;f&&this.__updateOverlay(f,false,a[l],s,r,h,o,c);e[n]&&this.__updateOverlay(e[n],this.enabled,a[n],s,r,h,o,c);return this},disabled:function(){var t=this.queue,e=t.length;while(e--){t[e]&&(t[e].enabled=false)}this.enabled=false;return this},disableOverlaysByGroup:function(t,e){var e=e||this.queue,i=e.length;while(i--){e[i].group===t&&(e[i].enabled=false)}},__updateOverlay:function(t,e,i,n,_,a,s,r){if(!t){return}var h,o;if(t instanceof Array){h=t.length;while(h--){o=a?(n/_-i[h].x-i[h].w)*_:i[h].x*_;t[h].enabled=e&&this.enabled;t[h].setSize({w:i[h].w*_,h:i[h].h*_}).setPosition({x:s+o,y:r+i[h].y*_})}}else{o=a?(n/_-i.x-i.w)*_:i.x*_;t.enabled=e&&this.enabled;t.setSize({w:i.w*_,h:i.h*_}).setPosition({x:s+o,y:r+i.y*_})}},__initList:function(t,e,i,n){if(!t||!(t instanceof Array)){return}var _=t.length,a,s=this,r=this.__list;while(_--){if(t[_]){if(t[_]instanceof Array){r[_]=[];a=t[_].length;while(a--){r[_][a]=this.__createActionOverlay(t[_][a],i+"_"+n+"_"+_,e,n)}}else{r[_]=this.__createActionOverlay(t[_],i+"_"+n+"_"+_,e,n)}}else{r[_]=0}}},__createActionOverlay:function(t,e,i,n){var _=new role.ActionOverlay(this.__parent,"none",t.w*this.__animation.scale,t.h*this.__animation.scale,e);_.cfgDelta=t;_.enabled=false;_.attackType=i.attackType;_.power=i.power;_.hitSoundName=i.hitSoundName;_.defencedPower=i.defencedPower;_.type=n;_.manager=this;return _},__initQueue:function(){var t=this.__list,e=t.length,i;while(e--){if(t[e]){if(t[e]instanceof Array){i=t[e].length;while(i--){this.queue.unshift(t[e][i])}}else{this.queue.unshift(t[e])}}}}}));$package("role","ActionAnimation",function(t,e,i,n,_,a,s,r,h){this.attackOverlayList=null;this.bodyOverlayList=null;this.offsetX=h||0;this.__initOverlayList(r);this.__initEvent()}.$extends(aralork.display.Animation).define({hidden:function(t){role.ActionAnimation.$super.hidden.call(this,t);this.attackOverlayList.disabled();this.bodyOverlayList.disabled();return this},show:function(t){role.ActionAnimation.$super.show.call(this,t);this.attackOverlayList.enabled=true;this.bodyOverlayList.enabled=true;return this},refresh:function(t){this.attackOverlayList.refresh(t);this.bodyOverlayList.refresh(t);return this},__initOverlayList:function(t){var e=t.actCfg;this.attackOverlayList=new role.FrameOverlayList(e.ATTACK_OVERLAYS,{attackType:e.ATTACK_TYPE,power:e.POWER,defencedPower:e.DEFENCED_POWER,hitSoundName:e.HIT_SOUND_NAME},t.actName,this,"attack",this.__parent);this.bodyOverlayList=new role.FrameOverlayList(e.BODY_OVERLAYS,{attackType:e.ATTACK_TYPE,power:e.POWER,defencedPower:e.DEFENCED_POWER},t.actName,this,"body",this.__parent)},__initEvent:function(){var t=this;this.addEventListener("playing",function(t,e){this.refresh(t)})}}));$package("role","Action",function(t,e,i){this.animations={};this.currentAnimation=null;this.currentActionName="";this.__fighter=t;this.__nextActionName="";this.__scale=e;this.__parent=i||document.body;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__lookAt="right";this.__initAnimations(this.__fighter.name)}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},fireEvent:function(t){var e=Array.prototype.slice.call(arguments,1),i=this.__eventDispatcher;e.unshift(t);i.dispatchEvent.apply(i,e);return this},updateAnimation:function(t,e,i){t=t||this.currentActionName;var n=this.currentAnimation,_=this.animations[t],a=0,s=0,r=0,h=n.x,o=n.width,c=_.width;this.__lookAt=e=e.toLowerCase();a=e==="left"?h-c+o+n.offsetX*this.__scale:h-n.offsetX*this.__scale;s=this.__fighter.dynamicBasicY-_.height;r=n.z;this.__nextActionName=t;n.state!=="stop"&&n.stop();n.hidden();this.currentActionName=t;this.__eventDispatcher.dispatchEvent("actionStart",t);this.currentAnimation=_.setFlipH(e==="left").setPosition({x:a+(e==="left"?-_.offsetX*this.__scale:_.offsetX*this.__scale),y:s,z:r}).show().play(typeof i==="undefined"?config.fighterAction[this.__fighter.name][t].COUNT:i)},setScale:function(t){t=t||1;var e,i=this.animations;for(e in i){i[e].setScale(t)}this.__scale=t;return this},setAdversaryActionOverlay:function(t){var e=this.__fighter.getAttackOverlayListQueue();adversaryBodyOverlayQueue=t.getBodyOverlayListQueue();this.__updateOverlayListCheckedQueue(e,"attackOverlaying",adversaryBodyOverlayQueue);this.__updateOverlayListCheckedQueue(adversaryBodyOverlayQueue,"adversaryBodyOverlaying");return this},__updateOverlayListCheckedQueue:function(i,n,t){var e,_,a,s=this,r=this.__fighter.adversary;a=i.length;while(a--){t&&i[a].setOverlayList(t);i[a].addEventListener("overlaying",function(t,e){if(n==="adversaryBodyOverlaying"&&!r.defenseState||n==="attackOverlaying"){this.manager.enabled=false;this.manager.constructor===role.FrameOverlayList&&this.manager.disableOverlaysByGroup(this.group,i)}s.__eventDispatcher.dispatchEvent(n,t,e)})}},__initAnimations:function(t){var e=config.fighterAction[t],i=aralork.utils.ResourceLoader,n,a=this;for(n in e){if(!this.animations[n]){this.animations[n]=new role.ActionAnimation(this.__parent,null,e[n].WIDTH,e[n].HEIGHT,i.getImage(e[n].IMG,e[n].IS_COPY_IMG),e[n].FPS,e[n].FRAME_TIMES,{actCfg:e[n],actName:n},e[n].OFFSET_X);this.animations[n].addEventListener("stop",function(_){return function(t,e,i){var n=a.__nextActionName===a.currentActionName?"":a.__nextActionName;a.__eventDispatcher.dispatchEvent("actionComplete",a.currentActionName,_||n);_&&!i&&a.updateAnimation(_,a.__lookAt)}}(e[n].CALL_ANIMATION)).addEventListener("playing",function(e){return function(t){a.__eventDispatcher.dispatchEvent("playing",e,t)}}(n)).hidden()}}this.currentAnimation=this.animations.wait}}));$package("aralork.animation","Parabola",function(t,e){e=e||25;this.__timer=new aralork.utils.Timer(1e3/e);this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__deltaY=0;this.__deltaT=t||1;this.__t=0;this.__endValue=0;this.__g=0;this.__initTimer()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},start:function(t,e,i){if(arguments.length){this.__deltaY=t||0;this.__g=e;this.__endValue=i||this.__fn(t,0,e);this.__t=0}this.__timer.start();return this},pause:function(){this.__timer.pause();return this},stop:function(){this.__timer.stop();return this},__fn:function(t,e,i){typeof i==="undefined"&&(i=.98);return t*e-.5*i*e*e},__initTimer:function(){var t=this,e;this.__timer.addEventListener("timer",function(){e=Math.min(-t.__fn(t.__deltaY,t.__t,t.__g),t.__endValue);t.__eventDispatcher.dispatchEvent("throw",e);if(e===t.__endValue&&t.__t!==0){t.stop();t.__eventDispatcher.dispatchEvent("complete")}t.__t+=t.__deltaT})}}));$package("role.movementAction","IMovementAction",{play:function(){},pause:function(){},continuePlay:function(){},stop:function(){}});$package("role.movementAction","JumpingMovementAction",function(t){this.__fighter=t;this.__directionValue=0;this.__startY=0;this.__parabola=new aralork.animation.Parabola(1.25,50);this.__deltaX=3*t.scale;this.__v0=this.__getV0(t.scale*100);this.__g=.392*t.scale;this.__isPlaying=false;this.__initFighter();this.__initParabola()}.$implements(role.movementAction.IMovementAction).define({play:function(t,e){var i=this.__fighter,n,_=this;if(t==="left"){n=i.lookAt==="right"?"back":"forward";this.__directionValue=-this.__deltaX}else if(t==="right"){n=i.lookAt==="right"?"forward":"back";this.__directionValue=this.__deltaX}else{n="up";this.__directionValue=0}i.action.updateAnimation("jump_"+n,i.lookAt);this.__startY=i.basicY-i.height;window.setTimeout(function(){_.__isPlaying=true;_.__parabola.start(_.__v0,_.__g)},80)},stop:function(){this.__parabola.stop()},pause:function(){this.__parabola.pause()},continuePlay:function(){this.__parabola.start()},__initFighter:function(){var i=this,n=this.__fighter;n.action.addEventListener("actionComplete",function(t,e){if(i.__isPlaying&&n.state!=="beAttacked"&&/^jump/.test(t)&&/(boxing|kick)$/.test(t)){n.action.updateAnimation("jump_down",n.lookAt,1)}})},__initParabola:function(){var e=this.__fighter,i=this,t=this.__parabola;t.addEventListener("throw",function(t){e.setPosition({x:e.x+i.__directionValue,y:i.__startY+t})}).addEventListener("complete",function(){i.__isPlaying=false;e.isJumping=false;game.SoundManager.play("footfall");e.setPosition({y:e.basicY-e.height});e.wait()})},__getV0:function(t){var e=.392*this.__fighter.scale;return Math.sqrt(t*2*e)}}));$package("role.movementAction","WalkingMovementAction",function(t){this.__fighter=t;this.__walkTimer=new aralork.utils.Timer;this.__deltaX=0;this.__initWalkTimer()}.$implements(role.movementAction.IMovementAction).define({play:function(t){var e=this.__fighter,i,n={left:"1",right:"0"};if(t==="forward"||t==="back"){i=t}else{switch(n[t]+n[e.lookAt]){case"00":this.__deltaX=e.scale*4;i="forward";break;case"01":this.__deltaX=e.scale*3;i="back";break;case"10":this.__deltaX=-e.scale*3;i="back";break;case"11":this.__deltaX=-e.scale*4;i="forward";break}}e.action.updateAnimation("walk_"+i,e.lookAt);this.__walkTimer.start()},stop:function(){this.__walkTimer.stop()},pause:function(){},continuePlay:function(){},__initWalkTimer:function(){var t=this,e=this.__fighter;this.__walkTimer.addEventListener("timer",function(){e.setPosition({x:e.x+t.__deltaX})})}}));$package("aralork.animation.tween","Transition",{simple:function(t,e,i,n){return i*t/n+e},backEaseIn:function(t,e,i,n){var _=1.70158;return i*(t/=n)*t*((_+1)*t-_)+e},backEaseOut:function(t,e,i,n){var _=1.70158;return i*((t=t/n-1)*t*((_+1)*t+_)+1)+e},backEaseInOut:function(t,e,i,n){var _=1.70158;if((t/=n/2)<1){return i/2*(t*t*(((_*=1.525)+1)*t-_))+e}return i/2*((t-=2)*t*(((_*=1.525)+1)*t+_)+2)+e},bounceEaseOut:function(t,e,i,n){if((t/=n)<1/2.75){return i*(7.5625*t*t)+e}else if(t<2/2.75){return i*(7.5625*(t-=1.5/2.75)*t+.75)+e}else if(t<2.5/2.75){return i*(7.5625*(t-=2.25/2.75)*t+.9375)+e}else{return i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}},bounceEaseIn:function(t,e,i,n){return i-Transition.bounceEaseOut(n-t,0,i,n)+e},bounceEaseInOut:function(t,e,i,n){if(t<n/2){return Transition.bounceEaseIn(t*2,0,i,n)*.5+e}else{return Transition.bounceEaseOut(t*2-n,0,i,n)*.5+i*.5+e}},regularEaseIn:function(t,e,i,n){return i*(t/=n)*t+e},regularEaseOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},regularEaseInOut:function(t,e,i,n){if((t/=n/2)<1){return i/2*t*t+e}return-i/2*(--t*(t-2)-1)+e},strongEaseIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},strongEaseOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},strongEaseInOut:function(t,e,i,n){if((t/=n/2)<1){return i/2*t*t*t*t*t+e}return i/2*((t-=2)*t*t*t*t+2)+e},elasticEaseIn:function(t,e,i,n){var _,a;if(t==0){return e}if((t/=n)==1){return e+i}a=n*.3;if(!_||_<Math.abs(i)){_=i;var s=a/4}else{var s=a/(2*Math.PI)*Math.asin(i/_)}return-(_*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a))+e},elasticEaseOut:function(t,e,i,n){var _,a;if(t==0){return e}if((t/=n)==1){return e+i}if(!a){a=n*.3}if(!_||_<Math.abs(i)){_=i;var s=a/4}else{var s=a/(2*Math.PI)*Math.asin(i/_)}return _*Math.pow(2,-10*t)*Math.sin((t*n-s)*(2*Math.PI)/a)+i+e},elasticEaseInOut:function(t,e,i,n){var _,a;if(t==0){return e}if((t/=n/2)==2){return e+i}if(!a){var a=n*(.3*1.5)}if(!_||_<Math.abs(i)){var _=i;var s=a/4}else{var s=a/(2*Math.PI)*Math.asin(i/_)}if(t<1){return-.5*(_*Math.pow(2,10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a))+e}return _*Math.pow(2,-10*(t-=1))*Math.sin((t*n-s)*(2*Math.PI)/a)*.5+i+e}});$package("aralork.animation.tween","Tween",function(t,e,i,n,_){this.startValue=e||0;this.endValue=i||0;this.duration=n||0;this.motion=_||aralork.animation.tween.Transition.simple;this.fps=t||25;this.__itvID=0;this.__isTweenning=false;this.__eventDispatcher=new aralork.events.EventDispatcher(this)}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},start:function(t,e,i,n){if(this.__isTweenning){return}this.__isTweenning=true;var _=this,a,s=(new Date).getTime(),r=1e3/this.fps;t=typeof t==="undefined"?this.startValue:t;e=typeof e==="undefined"?this.endValue:e;i&&(this.duration=i);n&&(this.motion=n);this.__itvID=window.setInterval(function(){a=((new Date).getTime()-s)/1e3;a>_.duration&&(a=_.duration);_.__dispatchEvent(t,e,a);a===_.duration&&_.stop()},r);return this},stop:function(t){window.clearInterval(this.__itvID);this.__isTweenning=false;!t&&this.__eventDispatcher.dispatchEvent("end");return this},__dispatchEvent:function(t,e,i){var n=this.__eventDispatcher,_,a=[];if(typeof t==="undefined"){this.stop();return}else if(t instanceof Array&&e instanceof Array){_=Math.min(t.length,e.length);while(_--){a.unshift(this.motion(i,t[_],e[_]-t[_],this.duration))}n.dispatchEvent("tween",a)}else if(typeof t==="number"&&typeof e==="number"){n.dispatchEvent("tween",this.motion(i,t,e-t,this.duration))}}}));$package("role.movementAction","BeAttackedMovementAction",function(t){this.__fighter=t;this.__beAttackTween=new aralork.animation.tween.Tween(20,0,0,1,aralork.animation.tween.Transition.strongEaseOut);this.__parabola=new aralork.animation.Parabola(1,40);this.__startY=0;this.__direction=1;this.__g=.392*t.scale;this.__lastValue=0;this.__initBeAttacked();this.__initParabola()}.$implements(role.movementAction.IMovementAction).define({play:function(t,e,i){var n=this.__fighter,_=n.lookAt==="right"?-1:1,a=_*n.scale*Math.min(e*3,40),s=n.x+(i?a/2:a),r=this,h=n.adversary,o=Math.min(e*30,250);if(!h.isSpecialAttacking){h.action.currentAnimation.pause();h.isJumping&&h.movementAction.pause("jumping")}if(!n.isSpecialAttacking){n.action.currentAnimation.pause();n.isJumping&&n.movementAction.pause("jumping")}if(n.isJumping){r.__fallDown(o)}else{setTimeout(function(){n.action.currentAnimation.play(0,true);r.__beAttackTween.stop(true);r.__lastValue=n.x;r.__beAttackTween.start(+n.x,s,.4+e/100);if(!h.isSpecialAttacking){h.action.currentAnimation.play(0,true);h.isJumping&&h.movementAction.continuePlay("jumping")}},o)}},stop:function(){this.__beAttackTween.stop(true)},pause:function(){},continuePlay:function(){},__initBeAttacked:function(){var e=this.__fighter,i=this;this.__beAttackTween.addEventListener("tween",function(t){e.setPosition({x:e.x+(t-i.__lastValue)});i.__lastValue=t});this.__beAttackTween.addEventListener("end",function(t){i.__lastValue=e.x;(e.action.currentActionName==="stand_up_defense"||e.action.currentActionName==="stand_crouch_defense")&&(e.state="wait");e.fireEvent("beAttackedComplete")})},__initParabola:function(){var t=this.__parabola,e=this.__fighter,i=this;t.addEventListener("throw",function(t){e.setPosition({x:e.x+e.scale*4*i.__direction,y:i.__startY+t})}).addEventListener("complete",function(t){e.isJumping=false;game.SoundManager.play("fall");e.action.updateAnimation("beAttacked_fall_down",e.lookAt)})},__fallDown:function(t){var e=this.__fighter,i=e.adversary,n=this;function _(){n.__startY=+e.y;e.movementAction.stopAll();e.isSpecialAttacking&&e.stopSpecialAttack("beAttacked");e.action.updateAnimation("beAttacked_before_fall_down",e.lookAt);if(!i.isSpecialAttacking){i.action.currentAnimation.play(0,true);i.isJumping&&i.movementAction.continuePlay("jumping")}n.__direction=e.x<e.adversary.x?-1:1;n.__parabola.start(n.__getV0(50),n._g,e.basicY-n.__startY-e.action.animations["beAttacked_before_fall_down"].height)}if(!e.isSpecialAttacking){setTimeout(function(){_()},t)}else{_()}},__getV0:function(t){var e=.392*this.__fighter.scale;return Math.sqrt(t*2*e)}}));$package("role.movementAction","MovementAction",function(t){this.__fighter=t;this.__hashConstructors={};this.__hashInstances={};this.__initConstructors()}.define({play:function(t){var e=[].slice.call(arguments,1);!this.__hashInstances[t]&&(this.__hashInstances[t]=new this.__hashConstructors[t](this.__fighter));this.__hashInstances[t].play.apply(this.__hashInstances[t],e);return this},stop:function(t){if(!this.__hashInstances[t]){return this}var e=[].slice.call(arguments,1);this.__hashInstances[t].stop.apply(this.__hashInstances[t],e);return this},pause:function(t){if(!this.__hashInstances[t]){return this}var e=[].slice.call(arguments,1);this.__hashInstances[t].pause.apply(this.__hashInstances[t],e);return this},continuePlay:function(t){if(!this.__hashInstances[t]){return this}var e=[].slice.call(arguments,1);this.__hashInstances[t].continuePlay.apply(this.__hashInstances[t],e);return this},stopAll:function(){var t,e=this.__hashInstances;for(t in e){e[t].stop()}return this},__initConstructors:function(){var t=role.movementAction;this.__hashConstructors={jumping:t.JumpingMovementAction,walking:t.WalkingMovementAction,beAttacked:t.BeAttackedMovementAction}}}));$package("role.magic","MagicAssembler",function(t){this.magicList={};this.__fighter=t;this.__frameConfig={};this.__isFlipH=false;this.__scale=1;this.__initFighterEvent()}.define({addMagic:function(t,e,i,n){if(!t||!e||!config||this.magicList[t]){return}var _=this.__fighter;this.magicList[t]=new e(_.parent,n,_,"");this.magicList[t].addEventListener("complete",function(){});this.__frameConfig=i;this.setScale(+_.scale);return this},setScale:function(t){var e,i=this.magicList;for(e in i){i[e].setScale(t)}this.__scale=t;return this},setAdversary:function(t){var e,i=this.magicList,n=t.getBodyOverlayListQueue().concat(t.getMagicBodyOverlayListQueue());for(e in i){this.__updateOverlayListCheckedQueue(i[e].attackOverlayList.queue,n)}return this},clear:function(){var t,e=this.magicList;for(t in e){e[t].disappear()}return this},__updateOverlayListCheckedQueue:function(t,e){var i,n,_,a=this;_=t.length;while(_--){e&&t[_].setOverlayList(e);t[_].addEventListener("overlaying",function(t){a.clear()})}},__initFighterEvent:function(){var i=this,n=this.__fighter,_,a,s,r;this.__fighter.addEventListener("playing",function(t,e){_=i.__frameConfig["frame_"+e];a=i.magicList[t];if(a&&_){r=n.lookAt==="left";s=r?(n.width/i.__scale-_.x-a.width)*i.__scale:_.x*i.__scale;r&&(s=s-a.width+n.width);a.setFlipH(r).setPosition({x:n.x+s,y:n.y+_.y*i.__scale});if(a.state!=="playing"){a.play(this.specialAttackLevel)}}})}}));$package("role.specialAttack","ISpecialAttack",{play:function(t){},stop:function(t){},addEventListener:function(t,e){}});$package("role.specialAttack","WaveBoxing",function(t){this.__fighter=t;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__magic=t.getMagic("wave_boxing");this.__init()}.$implements(role.specialAttack.ISpecialAttack).define({play:function(){var t=this.__fighter;if(!t.isMagicPlaying){t.isAttacking=true;this.__eventDispatcher.dispatchEvent("start","wave_boxing");game.SoundManager.play("wave_boxing");t.action.updateAnimation("wave_boxing",t.lookAt)}},stop:function(t){this.__fighter.action.currentAnimation.stop()},addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},__init:function(){var t=this,e=this.__fighter;this.__magic.addEventListener("complete",function(){e.isMagicPlaying=false;e.isSpecialAttacking=false;e.isAttacking=false;t.__eventDispatcher.dispatchEvent("complete","wave_boxing")})}}));$package("aralork.animation","Gravity",function(t,e){this.fps=e||25;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__timer=new aralork.utils.Timer(1e3/e);this.__deltaT=t||1;this.__endY=0;this.__startY=0;this.__g=.98;this.__t=0;this.__value=0;this.__initTimer()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},fallDown:function(t,e,i){this.__t=0;this.__g=i||.98;this.__startY=t;this.__endY=e;this.__timer.start()},stop:function(){this.__timer.stop();this.__eventDispatcher.dispatchEvent("complete",this.__value)},__fn:function(t){return this.__g*t*t/2},__initTimer:function(){var t=this;this.__timer.addEventListener("timer",function(){t.__value=Math.min(t.__startY+t.__fn(t.__t),t.__endY);t.__eventDispatcher.dispatchEvent("falling",t.__value);if(t.__value===t.__endY&&t.__t!==0){this.stop();t.__eventDispatcher.dispatchEvent("complete",t.__value)}t.__t+=t.__deltaT})}}));$package("role.specialAttack","ImpactBoxing",function(t){this.__fighter=t;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__tween=new aralork.animation.tween.Tween(40,0,0,0,aralork.animation.tween.Transition.strongEaseOut);this.__gravity=new aralork.animation.Gravity(3.5,40);this.__deltaX=0;this.__lastV=[];this.__stopType="";this.__initEvent();this.__initTween();this.__initGravity()}.$implements(role.specialAttack.ISpecialAttack).define({play:function(){var t=this.__fighter;this.__stopType="";game.SoundManager.play("impact_boxing");t.isJumping=true;t.isAttacking=t.isSpecialAttacking=true;this.__eventDispatcher.dispatchEvent("start","impact_boxing");t.action.updateAnimation("impact_boxing",t.lookAt)},stop:function(t){this.__stopType=t;this.__fighter.action.currentAnimation.stop();this.__tween.stop();this.__gravity.stop()},addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},__initEvent:function(){var h=this.__fighter,o=this.__tween,c=this;h.action.addEventListener("actionComplete",function(t){if(t==="impact_boxing"){var e=h.scale,i=h.specialAttackLevel,n=h.lookAt==="right"?1:-1,_=+h.x,a=h.x+(i-1)*20*e*n,s=+h.y,r=h.y-(5+i*40)*e;h.isAttacking=h.isSpecialAttacking=true;c.__lastV[0]=+h.x;o.start([_,s],[a,r],(i+1)/10)}})},__initTween:function(){var e=this.__fighter,i=this;this.__tween.addEventListener("tween",function(t){e.setPosition({x:e.x+(t[0]-i.__lastV[0]),y:t[1]});i.__lastV[0]=t[0]}).addEventListener("end",function(){e.action.updateAnimation("after_impact_boxing",e.lookAt);i.__gravity.fallDown(+e.y,e.basicY-e.height,.392*e.scale);i.__lastV[0]=+e.x})},__initGravity:function(){var e=this.__fighter,t=this;this.__gravity.addEventListener("falling",function(t){e.setPosition({y:t})}).addEventListener("complete",function(){e.isSpecialAttacking=false;e.isJumping=false;e.isAttacking=false;if(t.__stopType!=="beAttacked"){game.SoundManager.play("footfall");e.state="wait"}t.__eventDispatcher.dispatchEvent("complete","impact_boxing")})}}));$package("role.specialAttack","WhirlKick",function(t){this.__fighter=t;this.__timer=new aralork.utils.Timer;this.__deltaX=0;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__stopType="";this.__isPlaying=false;this.__initEvent();this.__initTimer()}.$implements(role.specialAttack.ISpecialAttack).define({play:function(){if(this.__isPlaying){return this}var t=this.__fighter,e=t.lookAt==="right"?1:-1;this.__isPlaying=true;game.SoundManager.play("whirl_kick");t.isAttacking=t.isSpecialAttacking=true;t.isJumping=true;this.__eventDispatcher.dispatchEvent("start","whirl_kick");t.action.updateAnimation("before_whirl_kick",t.lookAt);this.__stopType="";this.__deltaX=(3.5+t.specialAttackLevel*.5)*t.scale*e;this.__timer.start()},stop:function(t){this.__stopType=t;this.__fighter.action.currentAnimation.stop();this.__timer.stop();this.__fighter.isSpecialAttacking=false;this.__isPlaying=false},addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},__initEvent:function(){var e=this.__fighter,i=this.__timer,n=this;e.action.addEventListener("actionComplete",function(t){if(n.__stopType!=="beAttacked"){t==="before_whirl_kick"&&this.updateAnimation("whirl_kick",e.lookAt,e.specialAttackLevel+2);t==="whirl_kick"&&this.updateAnimation("after_whirl_kick",e.lookAt,1);if(t==="after_whirl_kick"){i.stop()}}})},__initTimer:function(){var t=this.__fighter,e=this;this.__timer.addEventListener("timer",function(){t.setPosition({x:+t.x+e.__deltaX})}).addEventListener("complete",function(){if(e.__stopType!=="beAttacked"){t.isSpecialAttacking=false;t.isJumping=false;t.isAttacking=false}e.__isPlaying=false;e.__eventDispatcher.dispatchEvent("complete","whirl_kick")})}}));$package("role.specialAttack","SpecialAttackTable",{wave_boxing:role.specialAttack.WaveBoxing,impact_boxing:role.specialAttack.ImpactBoxing,whirl_kick:role.specialAttack.WhirlKick});$package("role","Fighter",function(t,e,i,n,_){aralork.lib.Lib.defineGetter(this,["x","y","z","width","height","offsetX"],[this.__getX,this.__getY,this.__getZ,this.__getWidth,this.__getHeight,this.__getOffsetX]);this.lookAt=e||"right";this.hp=100;this.name=t;this.action=new role.Action(this,n,_);this.state="wait";this.scale=n||1;this.isJumping=false;this.isAttacking=false;this.isMagicPlaying=false;this.specialAttackLevel=1;this.basicY=i;this.dynamicBasicY=i;this.parent=_||document.body;this.defenseState="";this.adversary=null;this.isSpecialAttacking=false;this.movementAction=new role.movementAction.MovementAction(this);this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__magicAssembler=new role.magic.MagicAssembler(this);this.__isLookAtChanged=false;this.__hashSpecialAttackInstance={};this.__initAction()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},fireEvent:function(t){var e=Array.prototype.slice.call(arguments,1),i=this.__eventDispatcher;e.unshift(t);i.dispatchEvent.apply(i,e);return this},wait:function(){var t=this.state;this.state="wait";this.defenseState="";this.isAttacking=false;this.isSpecialAttacking=false;this.isJumping=false;this.movementAction.stopAll();this.action.updateAnimation("wait",this.lookAt);t!=="wait"&&this.__eventDispatcher.dispatchEvent("stateChanged",t,"wait");return this},walk:function(t){if(this.state!==""&&this.state!=="wait"&&this.state!=="crouch"&&this.state!=="defense"||this.isAttacking||this.defenseState!==""){return this}var e=this.state;this.state="walking";this.movementAction.stopAll().play("walking",t);this.__eventDispatcher.dispatchEvent("stateChanged",e,this.state);return this},jump:function(t){if(!/wait|walking|defense/.test(this.state)||this.isSpecialAttacking||this.isAttacking||this.state==="beAttacked"){return this}var e=this.state;t==="forward"&&(t=this.lookAt);t==="back"&&(t=this.lookAt==="right"?"left":"right");this.state==="walking"&&this.movementAction.stop("walking");this.state="jump"+t;this.isJumping=true;this.defenseState="";this.movementAction.play("jumping",t);this.__eventDispatcher.dispatchEvent("stateChanged",e,this.state);return this},stand:function(t){if(this.state!=="wait"&&this.state!=="walking"&&this.state!=="defense"||this.isAttacking){return this}var e=this.state;this.state==="walking"&&this.movementAction.stop("walking");this.state=t==="crouch"?t:"wait";this.action.updateAnimation("stand_"+t,this.lookAt);this.__eventDispatcher.dispatchEvent("stateChanged",e,this.state);return this},attack:function(t,e){if(this.isAttacking||this.state==="beAttacked"||!/wait|crouch|walking|defense/.test(this.state)&&!this.checkState("jump")){return this}var i="",n=this.adversary;this.isAttacking=true;this.state==="walking"&&this.movementAction.stop("walking");Math.abs(this.x-n.x)<=this.width-5*this.scale&&(i="near");this.state==="jumpup"&&(i="jump");/^jump(left|right)/.test(this.state)&&(i="jumpMoved");this.checkState("crouch")&&(i="crouch");i&&(i+="_");this.defenseState="";game.SoundManager.play(i+t+"_"+e);this.action.updateAnimation(i+t+"_"+e,this.lookAt);return this},specialAttack:function(t,e){if(this.isAttacking||this.isSpecialAttacking||!/wait|walking|defense|crouch/.test(this.state)){return this}var i=this;this.defenseState="";this.state==="walking"&&this.movementAction.stop("walking");if(!this.__hashSpecialAttackInstance[t]){this.__hashSpecialAttackInstance[t]=new role.specialAttack.SpecialAttackTable[t](this);this.__hashSpecialAttackInstance[t].addEventListener("start",function(t){i.__eventDispatcher.dispatchEvent("specialAttackStart",t)});this.__hashSpecialAttackInstance[t].addEventListener("complete",function(t){i.__eventDispatcher.dispatchEvent("specialAttackComplete",t)})}this.specialAttackLevel=e;this.state="specialAttacking";this.__hashSpecialAttackInstance[t].play();return this},defense:function(){if(this.isAttacking||this.state==="beAttacked"){return}var t;this.movementAction.stop("walking");t=this.checkState("crouch")?"crouch":"up";this.state="defense";this.defenseState=t;this.action.updateAnimation("stand_"+t+"_defense",this.lookAt)},beAttacked:function(t,e,i,n,_){var a=this.defenseState||"",s=!!a,r=this.adversary.action.currentActionName,h={up:/top|heavy|impact|fire|electric|up_fall/,crouch:/bottom|fall/};!this.isJumping&&this.movementAction.stopAll();this.state="beAttacked";this.__eventDispatcher.dispatchEvent("beAttacked",t,e,i||0,n,_);if(h[a]&&!h[a].test(t)||!s){_&&game.SoundManager.play(_);if(!this.isJumping){this.action.updateAnimation("beAttacked_"+t,this.lookAt)}}else{game.SoundManager.play("defense")}this.movementAction.play("beAttacked",t,e,s)},stopSpecialAttack:function(t){var e,i=this.__hashSpecialAttackInstance;for(e in i){i[e].stop(t)}},addMagic:function(t,e,i,n){this.__magicAssembler.addMagic(t,e,i,n);return this},setPosition:function(t,e){var i=+this.action.currentAnimation.y,n=this.__updateScreen(t);this.action.currentAnimation.setPosition(n).refresh();this.dynamicBasicY+=this.action.currentAnimation.y-i;!e&&this.__eventDispatcher.dispatchEvent("positionChanged",t);return this},setScale:function(t){this.action.setScale(t);this.__magicAssembler.setScale(t);this.scale=t;return this},getBodyOverlayListQueue:function(){return this.__getAnimationsOverlayListQueue(this.action.animations,"bodyOverlayList")},getAttackOverlayListQueue:function(){return this.__getAnimationsOverlayListQueue(this.action.animations,"attackOverlayList")},getMagic:function(t){return this.__magicAssembler.magicList[t]},getMagicBodyOverlayListQueue:function(){var t=[],e=this.__magicAssembler.magicList,i;for(i in e){t=t.concat(e[i].bodyOverlayList.queue)}return t},setAdversary:function(t){this.adversary=t;this.action.setAdversaryActionOverlay(t);this.__magicAssembler.setAdversary(t);return this},checkState:function(t){if(t==="jump"){return/^jump\w{2,4}/.test(this.state)}else if(t==="crouch"){return this.state==="crouch"}},__updateScreen:function(t){var e=10*this.scale,i,n=+t.x,_=stage.Screen.getWidth(),a=n-this.x,s=_-e-this.width,r=this.adversary,h=stage.Screen,o=false,c=this.action.currentAnimation.offsetX*this.scale,l=e+c,f=s-c;function u(t,e){if(!t){return}var i;for(i in t){t[i].isActived&&t[i].setPosition({x:t[i].x-e})}}if(a<0&&n<l){t.x=l;o=r&&r.x+r.width<h.getWidth()-e}if(a>0&&n>f){t.x=f;o=r&&r.x>e}if(o){h.scroll(-a,0);if(h.canScroll){r.setPosition({x:r.x-a});u(this.__magicAssembler.magicList,a);r&&u(r.__magicAssembler.magicList,a)}}return t},__initAction:function(){var i=this;this.action.addEventListener("adversaryBodyOverlaying",function(t,e){i.adversary&&t.type=="attack"&&i.adversary.beAttacked(t.attackType,t.power,t.defencedPower,{x:e[0].x+(e[1].x-e[0].x)/2,y:e[0].y+(e[3].y-e[0].y)/2},t.hitSoundName)}).addEventListener("playing",function(t,e){i.__eventDispatcher.dispatchEvent("playing",t,e)})},__getAnimationsOverlayListQueue:function(t,e){var i,n=[];for(i in t){n=n.concat(t[i][e].queue)}return n},__getX:function(){return+this.action.currentAnimation.x},__getY:function(){return+this.action.currentAnimation.y},__getZ:function(){return+this.action.currentAnimation.z},__getWidth:function(){return+this.action.currentAnimation.width},__getHeight:function(){return+this.action.currentAnimation.height},__getOffsetX:function(){return this.action.currentAnimation.x-stage.Screen.getX()}}));$package("config","Scene",{CHINA:{front:{IMG:config.Configure.url+"images/background/china/front.gif",WIDTH:621,HEIGHT:224},behind:{IMG:config.Configure.url+"images/background/china/behind.gif",WIDTH:535,HEIGHT:176}}});$package("role.magic","IMagic",{addEventListener:function(t,e){},removeEventListener:function(t,e){},setPosition:function(t){},setFlipH:function(t){},setScale:function(t){},play:function(t){},destroy:function(){}});$package("config","Magic",{simpleFire:{IMG:config.Configure.url+"images/magic/simpleFire.gif",FPS:12,WIDTH:80,HEIGHT:56,COUNT:0,POWER:10,DEFENCED_POWER:2,ATTACK_TYPE:"fire",FRAME_TIMES:[],ATTACK_OVERLAYS:[{x:10,y:30,w:50,h:50},{x:1,y:0,w:20,h:50},{x:0,y:20,w:40,h:60},{x:10,y:30,w:60,h:10},{x:50,y:30,w:100,h:50},{x:0,y:30,w:150,h:150},{x:10,y:30,w:50,h:50},{x:1,y:0,w:20,h:50},{x:0,y:20,w:40,h:60},{x:10,y:30,w:60,h:10},{x:50,y:30,w:100,h:50},{x:0,y:30,w:150,h:150}]},transverseWave:{IMG:config.Configure.url+"images/magic/transverseWave.gif",HIT_SOUND_NAME:"hit_heavy_boxing",FPS:35,WIDTH:56,HEIGHT:32,COUNT:0,POWER:10,DEFENCED_POWER:2,ATTACK_TYPE:"top",FRAME_TIMES:[1,1,1],ATTACK_OVERLAYS:[[{x:15,y:0,w:31,h:31},{x:15,y:0,w:31,h:31}]],BODY_OVERLAYS:[[{x:15,y:0,w:31,h:31},{x:15,y:0,w:31,h:31}]],DISAPPEAR_ANIMATION:"transverseWaveDisappear"},transverseWaveDisappear:{IMG:config.Configure.url+"images/magic/transverseWaveDisappear.gif",FPS:12,WIDTH:35,HEIGHT:28,COUNT:1,POWER:0,DEFENCED_POWER:0,ATTACK_TYPE:"top",FRAME_TIMES:[.5,1,1,1,1],ATTACK_OVERLAYS:[]}});$package("role.magic","SimpleMagic",function(t,e,i,n){aralork.lib.Lib.defineGetter(this,["state","width","x"],[this.__getState,this.__getWidth,this.__getX]);this.attackOverlayList=null;this.bodyOverlayList=null;this.isActived=false;this.__state="stop";this.__fighter=i;this.__animation=null;this.__disappearAnimation=null;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__playCount=e.COUNT||0;this.__parent=t||document.body;this.__isFlipH=false;this.__scale=1;this.__initAnimation(e);this.__initFrameOverlayList(e,n)}.$implements(role.magic.IMagic).define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},setPosition:function(t){this.__animation.setPosition(t);return this},setFlipH:function(t){this.__animation.setFlipH(t);this.__disappearAnimation&&this.__disappearAnimation.setFlipH(t);this.__isFlipH=t;return this},setScale:function(t){this.__animation.setScale(t);this.__disappearAnimation&&this.__disappearAnimation.setScale(t);this.__scale=t;return this},play:function(t){if(this.__state==="playing"){return}this.attackOverlayList.enabled=true;this.bodyOverlayList.enabled=true;this.__state="playing";this.__eventDispatcher.dispatchEvent("start");this.__animation.show().play(this.__playCount);return this},destroy:function(){if(!this.__animation){return}this.__state="stop";this.__animation.stop().destroy();this.__animation=null;if(this.__disappearAnimation){this.__disappearAnimation.stop().destroy();this.__disappearAnimation=null}},disappear:function(){var t=this.__animation;this.__state="stop";this.__animation.stop().hidden();if(this.__disappearAnimation){this.__disappearAnimation.setPosition({x:+t.x,y:+t.y,z:+t.z}).show().play(1)}else{this.__eventDispatcher.dispatchEvent("complete")}},setPosition:function(t){this.__animation.setPosition(t)},__initAnimation:function(t){var e=this,i=config.Magic[t.DISAPPEAR_ANIMATION];this.__animation=this.__creatAnimation(t);this.__animation.addEventListener("playing",function(t){e.isActived=true;e.attackOverlayList.refresh(t);e.bodyOverlayList.refresh(t);e.__eventDispatcher.dispatchEvent("playing")}).addEventListener("stop",function(){e.isActived=false;e.disappear()});if(i){this.__disappearAnimation=this.__creatAnimation(i);this.__disappearAnimation.addEventListener("stop",function(){this.hidden();e.__eventDispatcher.dispatchEvent("complete")})}},__creatAnimation:function(t){var e=this;return new aralork.display.Animation(this.__parent,"div",t.WIDTH,t.HEIGHT,aralork.utils.ResourceLoader.getImage(t.IMG,true),t.FPS,t.FRAME_TIMES).hidden()},__initFrameOverlayList:function(t,e){this.attackOverlayList=new role.FrameOverlayList(t.ATTACK_OVERLAYS,{attackType:t.ATTACK_TYPE,power:t.POWER,defencedPower:t.DEFENCED_POWER,hitSoundName:t.HIT_SOUND_NAME},e,this.__animation,"attack",this.__parent);this.bodyOverlayList=new role.FrameOverlayList(t.BODY_OVERLAYS,{attackType:t.ATTACK_TYPE,power:t.POWER,defencedPower:t.DEFENCED_POWER},e,this.__animation,"body",this.__parent)},__getState:function(){return this.__state},__getWidth:function(){return+this.__animation.width},__getX:function(){return+this.__animation.x}}));$package("role.magic","TransverseMagic",function(t,e,i,n,_){this.__tween=new aralork.animation.tween.Tween;this.__lastV=0;this.__initTween()}.$extends(role.magic.SimpleMagic).$implements(role.magic.IMagic).define({play:function(t){if(this.__state==="playing"){return}var e=this.__animation,i=this.__scale,n=stage.Screen,_=this.__fighter,a=(t||1)*1.6*i,s=_.lookAt==="left"?+_.x:_.x+_.width,r=s+(_.lookAt==="left"?-_.x-10*i-this.width:n.getInnerWidth()+10*i-_.x-_.width),h=Math.abs(r-s)/a/1e3*this.__tween.fps;role.magic.TransverseMagic.$super.play.call(this);this.__lastV=+e.x;_.isMagicPlaying=true;this.__tween.start(+s,r,h);return this},disappear:function(){role.magic.TransverseMagic.$super.disappear.call(this);this.__tween.stop()},__initTween:function(){var e=this;this.__tween.addEventListener("tween",function(t){e.__animation.setPosition({x:e.__animation.x+(t-e.__lastV)});e.__lastV=t});this.__tween.addEventListener("end",function(t){e.bodyOverlayList.disabled();e.attackOverlayList.disabled();e.__state!=="stop"&&e.disappear()})}}));$package("config","MagicFighter",{RYU1:{ACTION_NAME:"wave_boxing",CONSTRUCTOR_NAME:"TransverseMagic",TYPE:"transverseWave"},RYU2:{ACTION_NAME:"wave_boxing",CONSTRUCTOR_NAME:"TransverseMagic",TYPE:"transverseWave"}});(function(){var t=config.Configure.url+"sound/fighter/light_boxing.mp3",e=config.Configure.url+"sound/fighter/middle_boxing.mp3",i=config.Configure.url+"sound/fighter/heavy_boxing.mp3";$package("config.sound","Fighter",{light_boxing:t,middle_boxing:e,heavy_boxing:i,jump_light_boxing:t,jump_middle_boxing:e,jump_heavy_boxing:i,jumpMoved_light_boxing:t,jumpMoved_middle_boxing:e,jumpMoved_heavy_boxing:i,crouch_light_boxing:t,crouch_middle_boxing:e,crouch_heavy_boxing:i,near_light_boxing:t,near_middle_boxing:e,near_heavy_boxing:i,light_kick:t,middle_kick:e,heavy_kick:i,jump_light_kick:t,jump_middle_kick:e,jump_heavy_kick:i,jumpMoved_light_kick:t,jumpMoved_middle_kick:e,jumpMoved_heavy_kick:i,crouch_light_kick:t,crouch_middle_kick:e,crouch_heavy_kick:i,near_light_kick:t,near_middle_kick:e,near_heavy_kick:i,wave_boxing:config.Configure.url+"sound/fighter/wave_boxing.mp3",whirl_kick:config.Configure.url+"sound/fighter/whirl_kick.mp3",impact_boxing:config.Configure.url+"sound/fighter/impact_boxing.mp3",hit_light:config.Configure.url+"sound/fighter/hit_light.mp3",hit_middle_boxing:config.Configure.url+"sound/fighter/hit_middle_boxing.mp3",hit_middle_kick:config.Configure.url+"sound/fighter/hit_middle_kick.mp3",hit_heavy_boxing:config.Configure.url+"sound/fighter/hit_heavy_boxing.mp3",hit_heavy_kick:config.Configure.url+"sound/fighter/hit_heavy_kick.mp3",footfall:config.Configure.url+"sound/fighter/footfall.mp3",defense:config.Configure.url+"sound/fighter/defense.mp3",fall:config.Configure.url+"sound/fighter/fall.mp3"})})();$package("config.sound","Stage",{CHINA:{background:config.Configure.url+"sound/stage/china.mp3"}});$package("game","Stage",function(t,e){this.scale=e||1;this.__parent=t||document.body;this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__totalCount=0;this.__currentCount=0;this.__stages={};this.__fighters={};this.__AIManagers={};this.__fighterManagers={};this.__isLoading=false;this.__currentParam=[];this.__initLoader()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},load:function(t,e,i,n){if(this.__isLoading){return}var _=aralork.utils.ResourceLoader,a=game.SoundManager,s=this.__getSoundCfg(i);this.__menu=n;this.__isLoading=true;this.__currentParam=[t,e,i];this.__currentCount=0;_.load("img",this.__getImageArr(t,e,i));a.load(s.urls,s.names);this.__totalCount=_.totalCount+a.totalCount},start:function(t,e,i){var n=this.__fighters,_=this.scale,a=this.__parent,s=config.MagicFighter;function r(t,e,i){if(!n[t]){n[t]=new role.Fighter(t,e,_*200,_,a);n[t].setPosition({x:i,z:64});s[t]&&n[t].addMagic(s[t].ACTION_NAME,role.magic[s[t].CONSTRUCTOR_NAME],config.fighterAction[t][s[t].ACTION_NAME].MAGIC_FRAMES,config.Magic[s[t].TYPE]);n[t].setScale(_).wait()}}this.__updateScreen(i);this.__initHPBar();r(t,"right",_*120);r(e,"left",_*240);!this.__fighterManagers[t+"_"+e]&&(this.__fighterManagers[t+"_"+e]=new game.FighterManager(n[t],n[e],this.__menu));game.SoundManager.play(i+"_background",65525)},__initHPBar:function(){var t=aralork.utils.ResourceLoader.getImage(config.Configure.url+"images/background/bar.gif"),e,i=this.scale,n=new aralork.display.DisplayObject(this.__parent,"div",144,9),_=new aralork.display.DisplayObject(this.__parent,"div",144,9),e=new aralork.display.DisplayObject(this.__parent,t,322,14);e.setPosition({x:31*i,y:20*i,z:1024}).setSize({w:322*i,h:14*i}).show();n.__entity.style.backgroundColor="#FFFF00";_.__entity.style.backgroundColor="#FFFF00";n.__entity.id="hpBar1";_.__entity.id="hpBar2";n.setPosition({x:31*i,y:22*i,z:1025}).setSize({w:144*i,h:10*i}).show();_.setPosition({x:208*i,y:22*i,z:1025}).setSize({w:144*i,h:10*i}).show()},__updateScreen:function(t){var e=stage.Screen,i=config.Scene,n=aralork.utils.ResourceLoader,_=this.scale,a=n.getImage(i[t].behind.IMG),s=n.getImage(i[t].front.IMG),r=i[t].behind.WIDTH,h=i[t].behind.HEIGHT,o=i[t].front.WIDTH,c=i[t].front.HEIGHT;e.entity=this.__parent;e.addBackground(new aralork.display.DisplayObject(null,a,r,h));e.addBackground(new aralork.display.DisplayObject(null,s,o,c));e.setScale(_)},__getImageArr:function(t,e,i){if(!config.fighterAction[t]||!config.fighterAction[t]||!config.Scene[i]){return}var n=[],_=config.fighterAction[t],a=config.fighterAction[e],s=config.Scene[i],r=config.Magic,h=config.HitEffect,o;for(o in _){n.push(_[o].IMG)}for(o in a){n.push(a[o].IMG)}for(o in s){n.push(s[o].IMG)}for(o in r){n.push(r[o].IMG)}for(o in h){n.push(h[o].IMG)}n.push(config.Configure.url+"images/background/bar.gif");n.push(config.Configure.url+"images/background/fighterShadow.gif");return n},__getSoundCfg:function(t){if(!config.sound.Stage[t]){return}var e={urls:[],names:[]},i=config.sound.Fighter,n=config.sound.Stage[t],_;for(_ in i){e.urls.push(i[_]);e.names.push(_)}for(_ in n){e.urls.push(n[_]);e.names.push(t+"_"+_)}return e},__initLoader:function(){var t=aralork.utils.ResourceLoader,e=game.SoundManager,i=this;t.addEventListener("loading",function(){i.__currentCount++;i.__updateProgress()});e.addEventListener("loading",function(){i.__currentCount++;i.__updateProgress()})},__updateProgress:function(){if(!this.__totalCount){return}var t=this.__currentCount/this.__totalCount;var e=this;this.__eventDispatcher.dispatchEvent("resourceLoading",t);if(t===1){this.__isLoading=false;setTimeout(function(){e.__eventDispatcher.dispatchEvent("resourceLoadComplete");e.start.apply(e,e.__currentParam)},16)}}}));$package("game.menu","MenuItem",function(t,e){this.entity=null;this.enabled=true;this.ID=0;this.text="";this.__keyListener=new aralork.utils.KeyListener(document);this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__state="blur";this.width=t||100;this.height=e||25;this.__createIteam();this.__initEvent()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},focus:function(){this.entity.style.backgroundColor="#ffff00";this.entity.style.fontWeight="bold";this.__state="focus"},blur:function(){this.entity.style.backgroundColor="#ffffff";this.entity.style.fontWeight="";this.__state="blur"},setText:function(t){this.text=t;this.entity.innerHTML=t},destroy:function(){var t=this.entity;t.innerHTML="";t.parentNode&&t.parentNode.removeChild(t);this.entity=null},__createIteam:function(){var t;t=this.entity=$C("div");t.style.fontSize="12px";t.style.width=this.width+"px";t.style.height=this.height+"px";t.style.padding=$IE6?"2px":"5px 2px 5px 2px";t.style.margin="10px 2px 10px 2px";t.style.textAlign="center";t.style.backgroundColor="#ffffff";aralork.lib.Style.setOpacity(t,.8)},__initEvent:function(){var t=this;this.__keyListener.add(13,"keydown",function(){t.enabled&&t.__state==="focus"&&t.__eventDispatcher.dispatchEvent("enter")})}}));$package("game.menu","MenuItemContent",function(t){this.__entity=t;this.__state="hidden";this.__keyListener=new aralork.utils.KeyListener(document);this.__eventDispatcher=new aralork.events.EventDispatcher(this);this.__initEvent()}.define({addEventListener:function(t,e){this.__eventDispatcher.addEventListener(t,e);return this},removeEventListener:function(t,e){this.__eventDispatcher.removeEventListener(t,e);return this},show:function(){this.__state="show";this.__eventDispatcher.dispatchEvent("show");this.__entity&&(this.__entity.style.display="")},hidden:function(){this.__state="hidden";this.__eventDispatcher.dispatchEvent("hidden");this.__entity&&(this.__entity.style.display="none")},destroy:function(){this.__entity&&this.__entity.parentNode&&this.__entity.parentNode.removeChild(this.__entity)},__initEvent:function(){var t=this;this.__keyListener.add(27,"keydown",function(){t.__state==="show"&&t.hidden()})}}));$package("game.menu","Menu",function(t){this.enabled=true;aralork.lib.Lib.defineGetter(this,["width","height","x","y"],[this.__getWidth,this.__getHeight,this.__getX,this.__getY]);this.__entity=t;this.__list=[];this.__itemContent={};this.__index=0;this.__parent=parent||document.body;this.__keyListener=new aralork.utils.KeyListener(document);this.__initMove();this.hidden()}.define({add:function(t,e,i,n){var _=this.__list;_.push(new game.menu.MenuItem(e,i));_.length===1&&_[0].focus();_[_.length-1].ID=_.length-1;_[_.length-1].setText(t);this.__itemContent["ic"+_[_.length-1].ID]=n;this.__initItem(_[_.length-1]);return this},remove:function(t){var e=this.__itemContent["ic"+this.__list[t].ID];this.__list[t]&&this.__list[t].destroy();this.__list.splice(t,1);if(e){e.destroy();delete this.__itemContent["ic"+this.__list[t].ID]}return this},next:function(){var t=this.__list;if(t[this.__index+1]){t[this.__index+1].focus();t[this.__index].blur();this.__index++}return this},previous:function(){var t=this.__list;if(this.__index-1>=0){t[this.__index-1].focus();t[this.__index].blur();this.__index--}return this},show:function(){this.__entity.style.display="";return this},hidden:function(){this.__entity.style.display="none";return this},setPosition:function(t){typeof t.x!=="undefined"&&(this.__entity.style.left=t.x+"px");typeof t.y!=="undefined"&&(this.__entity.style.top=t.y+"px");typeof t.z!=="undefined"&&(this.__entity.style.zIndex=t.z);return this},setEnabled:function(t){var e=this.__list,i=this.__list.length;this.enabled=!!t;while(i--){e[i]&&(e[i].enabled=!!t)}},getIndex:function(){return this.__index},__initItem:function(t){var e=this,i=game.menu.MenuItemContent;this.__entity.appendChild(t.entity);t.addEventListener("enter",function(){var t=e.__itemContent["ic"+this.ID];if(t&&t.constructor===i){t.show();e.enabled=false;e.hidden()}else if(aralork.lib.Lib.checkFunction(t)){t.call(this)}});if(e.__itemContent["ic"+t.ID]&&e.__itemContent["ic"+t.ID].constructor===i){e.__itemContent["ic"+t.ID].addEventListener("hidden",function(){e.enabled=true;e.show()})}},__initMove:function(){var t=this;this.__keyListener.add(38,"keydown",function(){t.enabled&&t.previous()});this.__keyListener.add(40,"keydown",function(){t.enabled&&t.next()})},__getX:function(){return parseInt(this.__entity.style.left)},__getY:function(){return parseInt(this.__entity.style.top)},__getWidth:function(){return this.__getSize(this.__entity,"offsetWidth")},__getHeight:function(){return this.__getSize(this.__entity,"offsetHeight")},__getSize:function(t,e){var i=t,n,_=i.style.visibility;if(i.style.display=="none"){i.style.visibility="hidden";i.style.display="";n=i[e];i.style.display="none";i.style.visibility=_}else{n=i[e]}return n}}));function __Main__(){var t=$IE6?1.2:1.5,e=new game.Stage($E("screen"),t),i=new game.menu.Menu($E("mainMenu")),n=document.documentElement.clientWidth||document.body.clientWidth,_=80*t,a=8*t,s=$E("startScreen"),r=$E("initContianer"),h=$E("container"),o=$E("tip"),c=$E("message"),l=$E("screen"),f=$E("progressContainer"),u=$E("progerssBorder"),g=$E("progressBar"),d=$E("about"),y={w:220*t,h:10*t,x:130*t,y:170*t},A=function(t){t.setEnabled(false);f.style.display="";t.hidden();setTimeout(function(){e.load("RYU1","RYU2","CHINA",t)},20)};s.style.width=384*t+"px";s.style.height=224*t+"px";s.style.display="";e.addEventListener("resourceLoading",function(t){g.style.width=Math.floor(t*y.w)+"px"}).addEventListener("resourceLoadComplete",function(){c.style.display="none";l.style.display="";s.style.display="none"});i.add("单人游戏",_,a,function(){A(i)}).add("双人对战",_,a,function(){A(i)}).add("练习模式",_,a,function(){A(i)}).add("关于",_,a,new game.menu.MenuItemContent(d)).setPosition({x:parseInt(s.style.width)/2-i.width/2,y:120*t}).show();r.style.display="none";h.style.display="";h.style.left=n/2-384*t/2+"px";u.style.width=y.w+"px";u.style.height=y.h+"px";f.style.left=y.x+"px";f.style.top=y.y+"px";c.style.marginTop=230*t+"px";c.style.marginLeft=0;setTimeout(function(){o.style.display=""},5e3);d.style.left=i.x+i.width/2-110+"px";d.style.top=i.y-($IE6?0:10)+"px"}(function(){var t,e=function(t){return!!t&&!t.nodeName&&t.constructor!=String&&t.constructor!=RegExp&&t.constructor!=Array&&/function/i.test(t+"")};function i(){if(typeof __Main__!="undefined"&&e(__Main__)){__Main__.call()}}if(/msie/.test(navigator.userAgent.toLowerCase())){t=setTimeout(function(){try{document.body.doScroll("left");clearTimeout(t);i();return}catch(t){}arguments.callee.call()},1e3)}else if(/webkit/i.test(navigator.userAgent.toLowerCase())){t=setTimeout(function(){if(/loaded|complete/i.test(document.readyState)){clearTimeout(t);i();return}else{arguments.callee.call()}},1e3)}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){i()},false)}})();